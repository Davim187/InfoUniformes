(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var _d={exports:{}},cl={};var f_;function tA(){if(f_)return cl;f_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return cl.Fragment=t,cl.jsx=i,cl.jsxs=i,cl}var d_;function eA(){return d_||(d_=1,_d.exports=tA()),_d.exports}var j=eA(),vd={exports:{}},_t={};var m_;function nA(){if(m_)return _t;m_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function ht(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||$}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function dt(O,Y,et){this.props=O,this.context=Y,this.refs=nt,this.updater=et||$}var xt=dt.prototype=new Et;xt.constructor=dt,W(xt,ht.prototype),xt.isPureReactComponent=!0;var ne=Array.isArray;function Mt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,et){var st=et.ref;return{$$typeof:r,type:O,key:Y,ref:st!==void 0?st:null,props:et}}function x(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var w=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,et,st,pt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case r:case t:kt=!0;break;case A:return kt=O._init,F(kt(O._payload),Y,et,st,pt)}}if(kt)return pt=pt(O),kt=st===""?"."+ie(O,0):st,ne(pt)?(et="",kt!=null&&(et=kt.replace(w,"$&/")+"/"),F(pt,Y,et,"",function(tr){return tr})):pt!=null&&(D(pt)&&(pt=x(pt,et+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+kt)),Y.push(pt)),1;kt=0;var Ie=st===""?".":st+":";if(ne(O))for(var se=0;se<O.length;se++)st=O[se],St=Ie+ie(st,se),kt+=F(st,Y,et,St,pt);else if(se=H(O),typeof se=="function")for(O=se.call(O),se=0;!(st=O.next()).done;)st=st.value,St=Ie+ie(st,se++),kt+=F(st,Y,et,St,pt);else if(St==="object"){if(typeof O.then=="function")return F(Ce(O),Y,et,st,pt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return kt}function tt(O,Y,et){if(O==null)return O;var st=[],pt=0;return F(O,st,"","",function(St){return Y.call(et,St,pt++)}),st}function ut(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:tt,forEach:function(O,Y,et){tt(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=S,_t.Children=Ht,_t.Component=ht,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=dt,_t.StrictMode=a,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=W({},O.props),pt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var kt=Array(St),Ie=0;Ie<St;Ie++)kt[Ie]=arguments[Ie+2];st.children=kt}return C(O.type,pt,st)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},_t.createElement=function(O,Y,et){var st,pt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Y[st]);var kt=arguments.length-2;if(kt===1)pt.children=et;else if(1<kt){for(var Ie=Array(kt),se=0;se<kt;se++)Ie[se]=arguments[se+2];pt.children=Ie}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)pt[st]===void 0&&(pt[st]=kt[st]);return C(O,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:y,render:O}},_t.isValidElement=D,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},_t.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},_t.startTransition=function(O){var Y=I.T,et={};I.T=et;try{var st=O(),pt=I.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Mt,Lt)}catch(St){Lt(St)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),I.T=Y}},_t.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},_t.use=function(O){return I.H.use(O)},_t.useActionState=function(O,Y,et){return I.H.useActionState(O,Y,et)},_t.useCallback=function(O,Y){return I.H.useCallback(O,Y)},_t.useContext=function(O){return I.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},_t.useEffect=function(O,Y){return I.H.useEffect(O,Y)},_t.useEffectEvent=function(O){return I.H.useEffectEvent(O)},_t.useId=function(){return I.H.useId()},_t.useImperativeHandle=function(O,Y,et){return I.H.useImperativeHandle(O,Y,et)},_t.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},_t.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},_t.useMemo=function(O,Y){return I.H.useMemo(O,Y)},_t.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},_t.useReducer=function(O,Y,et){return I.H.useReducer(O,Y,et)},_t.useRef=function(O){return I.H.useRef(O)},_t.useState=function(O){return I.H.useState(O)},_t.useSyncExternalStore=function(O,Y,et){return I.H.useSyncExternalStore(O,Y,et)},_t.useTransition=function(){return I.H.useTransition()},_t.version="19.2.4",_t}var g_;function am(){return g_||(g_=1,vd.exports=nA()),vd.exports}var oe=am(),Ed={exports:{}},hl={},Td={exports:{}},Ad={};var p_;function iA(){return p_||(p_=1,(function(r){function t(F,tt){var ut=F.length;F.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=F[Lt];if(0<l(Ht,tt))F[Lt]=tt,F[ut]=Ht,ut=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var tt=F[0],ut=F.pop();if(ut!==tt){F[0]=ut;t:for(var Lt=0,Ht=F.length,O=Ht>>>1;Lt<O;){var Y=2*(Lt+1)-1,et=F[Y],st=Y+1,pt=F[st];if(0>l(et,ut))st<Ht&&0>l(pt,et)?(F[Lt]=pt,F[st]=ut,Lt=st):(F[Lt]=et,F[Y]=ut,Lt=Y);else if(st<Ht&&0>l(pt,ut))F[Lt]=pt,F[st]=ut,Lt=st;else break t}}return tt}function l(F,tt){var ut=F.sortIndex-tt.sortIndex;return ut!==0?ut:F.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],p=[],A=1,S=null,M=3,H=!1,$=!1,W=!1,nt=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function xt(F){for(var tt=i(p);tt!==null;){if(tt.callback===null)a(p);else if(tt.startTime<=F)a(p),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(p)}}function ne(F){if(W=!1,xt(F),!$)if(i(v)!==null)$=!0,Mt||(Mt=!0,k());else{var tt=i(p);tt!==null&&Ce(ne,tt.startTime-F)}}var Mt=!1,I=-1,b=5,C=-1;function x(){return nt?!0:!(r.unstable_now()-C<b)}function D(){if(nt=!1,Mt){var F=r.unstable_now();C=F;var tt=!0;try{t:{$=!1,W&&(W=!1,Et(I),I=-1),H=!0;var ut=M;try{e:{for(xt(F),S=i(v);S!==null&&!(S.expirationTime>F&&x());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,M=S.priorityLevel;var Ht=Lt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,xt(F),tt=!0;break e}S===i(v)&&a(v),xt(F)}else a(v);S=i(v)}if(S!==null)tt=!0;else{var O=i(p);O!==null&&Ce(ne,O.startTime-F),tt=!1}}break t}finally{S=null,M=ut,H=!1}tt=void 0}}finally{tt?k():Mt=!1}}}var k;if(typeof dt=="function")k=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=D,k=function(){ie.postMessage(null)}}else k=function(){ht(D,0)};function Ce(F,tt){I=ht(function(){F(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ut=M;M=tt;try{return F()}finally{M=ut}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(F,tt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ut=M;M=F;try{return tt()}finally{M=ut}},r.unstable_scheduleCallback=function(F,tt,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,F){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,F={id:A++,callback:tt,priorityLevel:F,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(F.sortIndex=ut,t(p,F),i(v)===null&&F===i(p)&&(W?(Et(I),I=-1):W=!0,Ce(ne,ut-Lt))):(F.sortIndex=Ht,t(v,F),$||H||($=!0,Mt||(Mt=!0,k()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var tt=M;return function(){var ut=M;M=tt;try{return F.apply(this,arguments)}finally{M=ut}}}})(Ad)),Ad}var y_;function sA(){return y_||(y_=1,Td.exports=iA()),Td.exports}var Sd={exports:{}},Ke={};var __;function rA(){if(__)return Ke;__=1;var r=am();function t(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,p,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:p,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(v,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(v,p,null,A)},Ke.flushSync=function(v){var p=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=p,a.p=A,a.d.f()}},Ke.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(v,p))},Ke.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ke.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var A=p.as,S=y(A,p.crossOrigin),M=typeof p.integrity=="string"?p.integrity:void 0,H=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?a.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=y(p.as,p.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(v)},Ke.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,S=y(A,p.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(v,p){if(typeof v=="string")if(p){var A=y(p.as,p.crossOrigin);a.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(v)},Ke.requestFormReset=function(v){a.d.r(v)},Ke.unstable_batchedUpdates=function(v,p){return v(p)},Ke.useFormState=function(v,p,A){return d.H.useFormState(v,p,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.4",Ke}var v_;function aA(){if(v_)return Sd.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sd.exports=rA(),Sd.exports}var E_;function oA(){if(E_)return hl;E_=1;var r=sA(),t=am(),i=aA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case ht:return"Profiler";case nt:return"StrictMode";case ne:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case dt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(e){return{current:e}}function Y(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function et(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var st=O(null),pt=O(null),St=O(null),kt=O(null);function Ie(e,n){switch(et(St,n),et(pt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ky(n),e=Uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),et(st,e)}function se(){Y(st),Y(pt),Y(St)}function tr(e){e.memoizedState!==null&&et(kt,e);var n=st.current,s=Uy(n,e.type);n!==s&&(et(pt,e),et(st,s))}function Fr(e){pt.current===e&&(Y(st),Y(pt)),kt.current===e&&(Y(kt),al._currentValue=ut)}var Qr,Kr;function $n(e){if(Qr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Qr=n&&n[1]||"",Kr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+e+Kr}var ro=!1;function er(e,n){if(!e||ro)return"";ro=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var P=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){P=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){P=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ro=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function ao(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return $n("Activity");default:return""}}function oo(e){try{var n="",s=null;do n+=ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,vh=r.unstable_shouldYield,ql=r.unstable_requestPaint,$e=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,lo=r.unstable_ImmediatePriority,uo=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,Eh=r.unstable_LowPriority,Hl=r.unstable_IdlePriority,Gl=r.log,Fl=r.unstable_setDisableYieldValue,Un=null,ze=null;function Tn(e){if(typeof Gl=="function"&&Fl(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Un,e)}catch{}}var he=Math.clz32?Math.clz32:Kl,Ql=Math.log,Yr=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Ql(e)/Yr|0)|0}var Wn=256,ir=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ah(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-he(s),K=1<<G;E[G]=0,R[G]=-1;var P=z[G];if(P!==null)for(z[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&rr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function co(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ho(e,n){var s=n&-n;return s=(s&42)!==0?1:ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:r_(e.type))}function zn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Pn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Pn,Me="__reactProps$"+Pn,ii="__reactContainer$"+Pn,Xr="__reactEvents$"+Pn,Sh="__reactListeners$"+Pn,Jl="__reactHandles$"+Pn,Zl="__reactResources$"+Pn,si="__reactMarker$"+Pn;function Jr(e){delete e[_e],delete e[Me],delete e[Xr],delete e[Sh],delete e[Jl]}function ri(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Hy(e);e!==null;){if(s=e[_e])return s;e=Hy(e)}return n}e=s,s=e.parentNode}return null}function An(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[si]=!0}var fo=new Set,mo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(mo[e]=n,e=0;e<n.length;e++)fo.add(n[e])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},yo={};function $l(e){return pe.call(yo,e)?!0:pe.call(po,e)?!1:go.test(e)?yo[e]=!0:(po[e]=!0,!1)}function Zr(e,n,s){if($l(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ee(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _o(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=_o(e,n,""+e[n])}}function or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lr=/[\n"\\]/g;function nn(e){return e.replace(lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $r(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vo(e,g,Ve(n)):s!=null?vo(e,g,Ve(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Wl(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function vo(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tu(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function as(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||eu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Eo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function Wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return os.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Ao=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ci=null;function ur(e){var n=An(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if($r(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));$r(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&or(o)}break t;case"textarea":tu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var ea=!1;function us(e,n,s){if(ea)return e(n,s);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(ls!==null||ci!==null)&&(Xu(),ls&&(n=ls,e=ci,ci=ls=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Me]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{cr=!1}var hi=null,So=null,hr=null;function bo(){if(hr)return hr;var e,n=So,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return hr=h.slice(e,1<o?1-o:void 0)}function fr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function Pe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Pe(Di),cs=S({},Di,{view:0,detail:0}),wo=Pe(cs),hs,na,di,ia=S({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(hs=e.screenX-di.screenX,na=e.screenY-di.screenY):na=hs=0,di=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Ro=Pe(ia),dr=S({},ia,{dataTransfer:0}),iu=Pe(dr),su=S({},cs,{relatedTarget:0}),mr=Pe(su),Co=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Pe(Co),sa=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=Pe(sa),ou=S({},Di,{data:0}),mi=Pe(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function fs(){return hu}var We=S({},cs,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=Pe(We),du=S({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(du),u=S({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=Pe(u),_=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(_),U=S({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(U),Z=S({},Di,{newState:0,oldState:0}),Tt=Pe(Z),fe=[9,13,27,32],jt=bn&&"CompositionEvent"in window,re=null;bn&&"documentMode"in document&&(re=document.documentMode);var wn=bn&&"TextEvent"in window&&!re,gi=bn&&(!jt||re&&8<re&&11>=re),Hn=" ",Gn=!1;function gr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function bT(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function wT(e,n){if(aa)return e==="compositionend"||!jt&&gr(e,n)?(e=bo(),hr=So=hi=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!RT[e.type]:n==="textarea"}function Km(e,n,s,o){ls?ci?ci.push(o):ci=[o]:ls=o,n=nc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Io=null,No=null;function CT(e){Ny(e,0)}function mu(e){var n=hn(e);if(or(n))return e}function Ym(e,n){if(e==="change")return n}var Xm=!1;if(bn){var bh;if(bn){var wh="oninput"in document;if(!wh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),wh=typeof Jm.oninput=="function"}bh=wh}else bh=!1;Xm=bh&&(!document.documentMode||9<document.documentMode)}function Zm(){Io&&(Io.detachEvent("onpropertychange",$m),No=Io=null)}function $m(e){if(e.propertyName==="value"&&mu(No)){var n=[];Km(n,No,e,Sn(e)),us(CT,n)}}function IT(e,n,s){e==="focusin"?(Zm(),Io=n,No=s,Io.attachEvent("onpropertychange",$m)):e==="focusout"&&Zm()}function NT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(No)}function DT(e,n){if(e==="click")return mu(n)}function OT(e,n){if(e==="input"||e==="change")return mu(n)}function xT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:xT;function Do(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!pe.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function Wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tg(e,n){var s=Wm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Wm(s)}}function eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ng(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var MT=bn&&"documentMode"in document&&11>=document.documentMode,oa=null,Ch=null,Oo=null,Ih=!1;function ig(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ih||oa==null||oa!==ui(o)||(o=oa,"selectionStart"in o&&Rh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Do(Oo,o)||(Oo=o,o=nc(Ch,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=oa)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var la={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Nh={},sg={};bn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function yr(e){if(Nh[e])return Nh[e];if(!la[e])return e;var n=la[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in sg)return Nh[e]=n[s];return e}var rg=yr("animationend"),ag=yr("animationiteration"),og=yr("animationstart"),VT=yr("transitionrun"),kT=yr("transitionstart"),UT=yr("transitioncancel"),lg=yr("transitionend"),ug=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function Fn(e,n){ug.set(e,n),oi(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ua=0,Oh=0;function pu(){for(var e=ua,n=Oh=ua=0;n<e;){var s=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&cg(s,h,f)}}function yu(e,n,s,o){Rn[ua++]=e,Rn[ua++]=n,Rn[ua++]=s,Rn[ua++]=o,Oh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,s,o){return yu(e,n,s,o),_u(e)}function _r(e,n){return yu(e,null,null,n),_u(e)}function cg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function _u(e){if(50<Wo)throw Wo=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function LT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new LT(e,n,s,o)}function Mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function hg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Mh(e)&&(g=1);else if(typeof e=="string")g=q1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=mn(31,s,n,h),e.elementType=C,e.lanes=f,e;case W:return vr(s.children,h,f,n);case nt:g=8,h|=24;break;case ht:return e=mn(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case ne:return e=mn(13,s,n,h),e.elementType=ne,e.lanes=f,e;case Mt:return e=mn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:g=10;break t;case Et:g=9;break t;case xt:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function vr(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Vh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function fg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var dg=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var s=dg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:oo(n)},dg.set(e,n),n)}return{value:e,source:n,stack:oo(n)}}var ha=[],fa=0,Eu=null,xo=0,In=[],Nn=0,ds=null,pi=1,yi="";function Mi(e,n){ha[fa++]=xo,ha[fa++]=Eu,Eu=e,xo=n}function mg(e,n,s){In[Nn++]=pi,In[Nn++]=yi,In[Nn++]=ds,ds=e;var o=pi;e=yi;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-he(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Uh(e){e.return!==null&&(Mi(e,1),mg(e,1,0))}function Lh(e){for(;e===Eu;)Eu=ha[--fa],ha[fa]=null,xo=ha[--fa],ha[fa]=null;for(;e===ds;)ds=In[--Nn],In[Nn]=null,yi=In[--Nn],In[Nn]=null,pi=In[--Nn],In[Nn]=null}function gg(e,n){In[Nn++]=pi,In[Nn++]=yi,In[Nn++]=ds,pi=n.id,yi=n.overflow,ds=e}var je=null,$t=null,Vt=!1,ms=null,Dn=!1,zh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Cn(n,e)),zh}function pg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Me]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<el.length;s++)Rt(el[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Wl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),as(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||My(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||gs(e,!0)}function yg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:je=je.return}}function da(e){if(e!==je)return!1;if(!Vt)return yg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&$t&&gs(e),yg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=qy(e)}else n===27?(n=$t,Ns(e.type)?(e=ld,ld=null,$t=e):$t=n):$t=je?xn(e.stateNode.nextSibling):null;return!0}function Er(){$t=je=null,Vt=!1}function Ph(){var e=ms;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ms=null),e}function Mo(e){ms===null?ms=[e]:ms.push(e)}var jh=O(null),Tr=null,Vi=null;function ps(e,n,s){et(jh,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=jh.current,Y(jh)}function Bh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Bh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ma(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&qh(n,e,s,o),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Tr=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return _g(Tr,e)}function Au(e,n){return Tr===null&&Ar(e),_g(e,n)}function _g(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Vi===null){if(e===null)throw Error(a(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return s}var zT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},PT=r.unstable_scheduleCallback,jT=r.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new zT,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&PT(jT,function(){e.controller.abort()})}var ko=null,Gh=0,ga=0,pa=null;function BT(e,n){if(ko===null){var s=ko=[];Gh=0,ga=Yf(),pa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Gh++,n.then(vg,vg),n}function vg(){if(--Gh===0&&ko!==null){pa!==null&&(pa.status="fulfilled");var e=ko;ko=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function qT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Eg=F.S;F.S=function(e,n){iy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&BT(e,n),Eg!==null&&Eg(e,n)};var Sr=O(null);function Fh(){var e=Sr.current;return e!==null?e:Zt.pooledCache}function Su(e,n){n===null?et(Sr,Sr.current):et(Sr,n.pool)}function Tg(){var e=Fh();return e===null?null:{parent:Te._currentValue,pool:e}}var ya=Error(a(460)),Qh=Error(a(474)),bu=Error(a(542)),wu={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wg(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,wg(e),e}throw wr=n,ya}}function br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,ya):s}}var wr=null;function bg(){if(wr===null)throw Error(a(459));var e=wr;return wr=null,e}function wg(e){if(e===ya||e===bu)throw Error(a(483))}var _a=null,Uo=0;function Ru(e){var n=Uo;return Uo+=1,_a===null&&(_a=[]),Sg(_a,e,n)}function Lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Rg(e){function n(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function s(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=xi(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,Q){return N===null||N.tag!==6?(N=Vh(L,V.mode,Q),N.return=V,N):(N=h(N,L),N.return=V,N)}function R(V,N,L,Q){var lt=L.type;return lt===W?G(V,N,L.props.children,Q,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&br(lt)===N.type)?(N=h(N,L.props),Lo(N,L),N.return=V,N):(N=vu(L.type,L.key,L.props,null,V.mode,Q),Lo(N,L),N.return=V,N)}function z(V,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=kh(L,V.mode,Q),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function G(V,N,L,Q,lt){return N===null||N.tag!==7?(N=vr(L,V.mode,Q,lt),N.return=V,N):(N=h(N,L),N.return=V,N)}function K(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return L=vu(N.type,N.key,N.props,null,V.mode,L),Lo(L,N),L.return=V,L;case $:return N=kh(N,V.mode,L),N.return=V,N;case b:return N=br(N),K(V,N,L)}if(Ce(N)||k(N))return N=vr(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return K(V,Ru(N),L);if(N.$$typeof===dt)return K(V,Au(V,N),L);Cu(V,N)}return null}function P(V,N,L,Q){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(V,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===lt?R(V,N,L,Q):null;case $:return L.key===lt?z(V,N,L,Q):null;case b:return L=br(L),P(V,N,L,Q)}if(Ce(L)||k(L))return lt!==null?null:G(V,N,L,Q,null);if(typeof L.then=="function")return P(V,N,Ru(L),Q);if(L.$$typeof===dt)return P(V,N,Au(V,L),Q);Cu(V,L)}return null}function q(V,N,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(N,V,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return V=V.get(Q.key===null?L:Q.key)||null,R(N,V,Q,lt);case $:return V=V.get(Q.key===null?L:Q.key)||null,z(N,V,Q,lt);case b:return Q=br(Q),q(V,N,L,Q,lt)}if(Ce(Q)||k(Q))return V=V.get(L)||null,G(N,V,Q,lt,null);if(typeof Q.then=="function")return q(V,N,L,Ru(Q),lt);if(Q.$$typeof===dt)return q(V,N,L,Au(N,Q),lt);Cu(N,Q)}return null}function rt(V,N,L,Q){for(var lt=null,zt=null,at=N,bt=N=0,It=null;at!==null&&bt<L.length;bt++){at.index>bt?(It=at,at=null):It=at.sibling;var Pt=P(V,at,L[bt],Q);if(Pt===null){at===null&&(at=It);break}e&&at&&Pt.alternate===null&&n(V,at),N=f(Pt,N,bt),zt===null?lt=Pt:zt.sibling=Pt,zt=Pt,at=It}if(bt===L.length)return s(V,at),Vt&&Mi(V,bt),lt;if(at===null){for(;bt<L.length;bt++)at=K(V,L[bt],Q),at!==null&&(N=f(at,N,bt),zt===null?lt=at:zt.sibling=at,zt=at);return Vt&&Mi(V,bt),lt}for(at=o(at);bt<L.length;bt++)It=q(at,V,bt,L[bt],Q),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?bt:It.key),N=f(It,N,bt),zt===null?lt=It:zt.sibling=It,zt=It);return e&&at.forEach(function(Vs){return n(V,Vs)}),Vt&&Mi(V,bt),lt}function ft(V,N,L,Q){if(L==null)throw Error(a(151));for(var lt=null,zt=null,at=N,bt=N=0,It=null,Pt=L.next();at!==null&&!Pt.done;bt++,Pt=L.next()){at.index>bt?(It=at,at=null):It=at.sibling;var Vs=P(V,at,Pt.value,Q);if(Vs===null){at===null&&(at=It);break}e&&at&&Vs.alternate===null&&n(V,at),N=f(Vs,N,bt),zt===null?lt=Vs:zt.sibling=Vs,zt=Vs,at=It}if(Pt.done)return s(V,at),Vt&&Mi(V,bt),lt;if(at===null){for(;!Pt.done;bt++,Pt=L.next())Pt=K(V,Pt.value,Q),Pt!==null&&(N=f(Pt,N,bt),zt===null?lt=Pt:zt.sibling=Pt,zt=Pt);return Vt&&Mi(V,bt),lt}for(at=o(at);!Pt.done;bt++,Pt=L.next())Pt=q(at,V,bt,Pt.value,Q),Pt!==null&&(e&&Pt.alternate!==null&&at.delete(Pt.key===null?bt:Pt.key),N=f(Pt,N,bt),zt===null?lt=Pt:zt.sibling=Pt,zt=Pt);return e&&at.forEach(function(W1){return n(V,W1)}),Vt&&Mi(V,bt),lt}function Jt(V,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===W){if(N.tag===7){s(V,N.sibling),Q=h(N,L.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&br(lt)===N.type){s(V,N.sibling),Q=h(N,L.props),Lo(Q,L),Q.return=V,V=Q;break t}s(V,N);break}else n(V,N);N=N.sibling}L.type===W?(Q=vr(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=vu(L.type,L.key,L.props,null,V.mode,Q),Lo(Q,L),Q.return=V,V=Q)}return g(V);case $:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(V,N.sibling),Q=h(N,L.children||[]),Q.return=V,V=Q;break t}else{s(V,N);break}else n(V,N);N=N.sibling}Q=kh(L,V.mode,Q),Q.return=V,V=Q}return g(V);case b:return L=br(L),Jt(V,N,L,Q)}if(Ce(L))return rt(V,N,L,Q);if(k(L)){if(lt=k(L),typeof lt!="function")throw Error(a(150));return L=lt.call(L),ft(V,N,L,Q)}if(typeof L.then=="function")return Jt(V,N,Ru(L),Q);if(L.$$typeof===dt)return Jt(V,N,Au(V,L),Q);Cu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(V,N.sibling),Q=h(N,L),Q.return=V,V=Q):(s(V,N),Q=Vh(L,V.mode,Q),Q.return=V,V=Q),g(V)):s(V,N)}return function(V,N,L,Q){try{Uo=0;var lt=Jt(V,N,L,Q);return _a=null,lt}catch(at){if(at===ya||at===bu)throw at;var zt=mn(29,at,null,V.mode);return zt.lanes=Q,zt.return=V,zt}}}var Rr=Rg(!0),Cg=Rg(!1),ys=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=_u(e),cg(e,null,s),n}return yu(e,o,n,s),_u(e)}function zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}function Xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jh=!1;function Po(){if(Jh){var e=pa;if(e!==null)throw e}}function jo(e,n,s,o){Jh=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,G=z=R=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Ct&P)===P:(o&P)===P){P!==0&&P===ga&&(Jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;P=n;var Jt=s;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){K=rt.call(Jt,K,P);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,P=typeof rt=="function"?rt.call(Jt,K,P):rt,P==null)break t;K=S({},K,P);break t;case 2:ys=!0}}P=E.callback,P!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=K):G=G.next=q,g|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=K),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=K}}function Ig(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ng(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ig(s[e],n)}var va=O(null),Iu=O(0);function Dg(e,n){e=Gi,et(Iu,e),et(va,n),Gi=e|n.baseLanes}function Zh(){et(Iu,Gi),et(va,va.current)}function $h(){Gi=Iu.current,Y(va),Y(Iu)}var gn=O(null),On=null;function Es(e){var n=e.alternate;et(de,de.current&1),et(gn,e),On===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(On=e)}function Wh(e){et(de,de.current),et(gn,e),On===null&&(On=e)}function Og(e){e.tag===22?(et(de,de.current),et(gn,e),On===null&&(On=e)):Ts()}function Ts(){et(de,de.current),et(gn,gn.current)}function pn(e){Y(gn),On===e&&(On=null),Y(de)}var de=O(0);function Nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,Yt=null,Ae=null,Du=!1,Ea=!1,Cr=!1,Ou=0,Bo=0,Ta=null,HT=0;function ue(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function ef(e,n,s,o,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?mp:yf,Cr=!1,f=s(o,h),Cr=!1,Ea&&(f=Mg(n,s,o,h)),xg(e),f}function xg(e){F.H=Go;var n=Yt!==null&&Yt.next!==null;if(Ui=0,Ae=Yt=At=null,Du=!1,Bo=0,Ta=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Tu(e)&&(Se=!0))}function Mg(e,n,s,o){At=e;var h=0;do{if(Ea&&(Ta=null),Bo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=gp,f=n(s,o)}while(Ea);return f}function GT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function nf(){var e=Ou!==0;return Ou=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rf(e){if(Du){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Du=!1}Ui=0,Ae=Yt=At=null,Ea=!1,Bo=Ou=0,Ta=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,Ta===null&&(Ta=[]),e=Sg(Ta,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?mp:yf),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===dt)return Be(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=xu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=me();return of(n,Yt,e)}function of(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ct&K)===K:(Ui&K)===K){var P=z.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ga&&(G=!0);else if((Ui&P)===P){z=z.next,P===ga&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,At.lanes|=P,bs|=P;K=z.action,Cr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else P={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=P,g=f):R=R.next=P,At.lanes|=K,bs|=K;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!dn(f,e.memoizedState)&&(Se=!0,G&&(s=pa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lf(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Vg(e,n,s){var o=At,h=me(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,hf(Lg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},Ug.bind(null,o,h,s,n),null),Zt===null)throw Error(a(349));f||(Ui&127)!==0||kg(o,n,s)}return s}function kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=xu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Ug(e,n,s,o){n.value=s,n.getSnapshot=o,zg(n)&&Pg(e)}function Lg(e,n,s){return s(function(){zg(n)&&Pg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function Pg(e){var n=_r(e,2);n!==null&&un(n,e,2)}function uf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Cr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function jg(e,n,s,o){return e.baseState=s,of(e,Yt,typeof o=="function"?o:Li)}function FT(e,n,s,o,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Bg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Bg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),R=F.S;R!==null&&R(g,E),qg(e,n,E)}catch(z){cf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),qg(e,n,f)}catch(z){cf(e,n,z)}}function qg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Hg(e,n,o)},function(o){return cf(e,n,o)}):Hg(e,n,s)}function Hg(e,n,s){n.status="fulfilled",n.value=s,Gg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Bg(e,s)))}function cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Gg(n),n=n.next;while(n!==o)}e.action=null}function Gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fg(e,n){return n}function Qg(e,n){if(Vt){var s=Zt.formState;if(s!==null){t:{var o=At;if(Vt){if($t){e:{for(var h=$t,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){$t=xn(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:n},s.queue=o,s=hp.bind(null,At,o),o.dispatch=s,o=uf(!1),f=pf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=FT.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Kg(e){var n=me();return Yg(n,Yt,e)}function Yg(e,n,s){if(n=of(e,n,Fg)[0],e=Vu(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(g){throw g===ya?bu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Aa(9,{destroy:void 0},QT.bind(null,h,s),null)),[o,f,e]}function QT(e,n){e.action=n}function Xg(e){var n=me(),s=Yt;if(s!==null)return Yg(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Aa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=xu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Jg(){return me().memoizedState}function ku(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Uu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&tf(o,Yt.memoizedState.deps)?h.memoizedState=Aa(n,f,s,o):(At.flags|=e,h.memoizedState=Aa(1|n,f,s,o))}function Zg(e,n){ku(8390656,8,e,n)}function hf(e,n){Uu(2048,8,e,n)}function KT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=xu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function $g(e){var n=me().memoizedState;return KT({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Wg(e,n){return Uu(4,2,e,n)}function tp(e,n){return Uu(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function np(e,n,s){s=s!=null?s.concat([e]):null,Uu(4,4,ep.bind(null,n,e),s)}function ff(){}function ip(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function sp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),Cr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o}function df(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=ry(),At.lanes|=e,bs|=e,s)}function rp(e,n,s,o){return dn(s,n)?s:va.current!==null?(e=df(e,s,o),dn(e,n)||(Se=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=s):(e=ry(),At.lanes|=e,bs|=e,n)}function ap(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,pf(e,!1,n,s);try{var R=h(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=qT(R,o);Ho(e,n,G,vn(e))}else Ho(e,n,o,vn(e))}catch(K){Ho(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function YT(){}function mf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=op(e).queue;ap(e,h,n,ut,s===null?YT:function(){return lp(e),s(o)})}function op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lp(e){var n=op(e);n.next===null&&(n=e.alternate.memoizedState),Ho(e,n.next.queue,{},vn())}function gf(){return Be(al)}function up(){return me().memoizedState}function cp(){return me().memoizedState}function XT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=_s(s);var o=vs(n,e,s);o!==null&&(un(o,n,s),zo(o,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function JT(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?fp(n,s):(s=xh(e,n,s,o),s!==null&&(un(s,e,o),dp(s,n,o)))}function hp(e,n,s){var o=vn();Ho(e,n,s,o)}function Ho(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))fp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return yu(e,n,h,0),Zt===null&&pu(),!1}catch{}if(s=xh(e,n,h,o),s!==null)return un(s,e,o),dp(s,n,o),!0}return!1}function pf(e,n,s,o){if(o={lane:2,revertLane:Yf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=xh(e,s,o,2),n!==null&&un(n,e,2)}function Lu(e){var n=e.alternate;return e===At||n!==null&&n===At}function fp(e,n){Ea=Du=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function dp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,co(e,s)}}var Go={readContext:Be,use:Mu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Go.useEffectEvent=ue;var mp={readContext:Be,use:Mu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Zg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ku(4194308,4,ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Cr){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Cr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=JT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=hp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=tn();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=ap.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Zt===null)throw Error(a(349));(Ct&127)!==0||kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Zg(Lg.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},Ug.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Zt.identifierPrefix;if(Vt){var s=yi,o=pi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Ou++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=HT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return tn().memoizedState=XT.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:Be,use:Mu,useCallback:ip,useContext:Be,useEffect:hf,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:sp,useReducer:Vu,useRef:Jg,useState:function(){return Vu(Li)},useDebugValue:ff,useDeferredValue:function(e,n){var s=me();return rp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Vu(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Vg,useId:up,useHostTransitionStatus:gf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var s=me();return jg(s,Yt,e,n)},useMemoCache:af,useCacheRefresh:cp};yf.useEffectEvent=$g;var gp={readContext:Be,use:Mu,useCallback:ip,useContext:Be,useEffect:hf,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:sp,useReducer:lf,useRef:Jg,useState:function(){return lf(Li)},useDebugValue:ff,useDeferredValue:function(e,n){var s=me();return Yt===null?df(s,e,n):rp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=lf(Li)[0],n=me().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Vg,useId:up,useHostTransitionStatus:gf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var s=me();return Yt!==null?jg(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:cp};gp.useEffectEvent=$g;function _f(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=_s(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,o),n!==null&&(un(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=_s(s);o.tag=2,n!=null&&(o.callback=n),n=vs(e,o,s),n!==null&&(un(n,e,s),zo(n,e,s))}};function pp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Do(s,o)||!Do(h,f):!0}function yp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function Ir(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function _p(e){gu(e)}function vp(e){console.error(e)}function Ep(e){gu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Tp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Ap(e){return e=_s(e),e.tag=3,e}function Sp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Tp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Tp(n,s,o),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function ZT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&ma(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return On===null?Ju():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===wu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ff(e,o,h)),!1;case 22:return s.flags|=65536,o===wu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ff(e,o,h)),!1}throw Error(a(435,s.tag))}return Ff(e,o,h),Ju(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==zh&&(e=Error(a(422),{cause:o}),Mo(Cn(e,s)))):(o!==zh&&(n=Error(a(423),{cause:o}),Mo(Cn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,s),h=Ef(e.stateNode,o,h),Xh(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,s),$o===null?$o=[f]:$o.push(f),ce!==4&&(ce=2),n===null)return!0;o=Cn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,o,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ap(h),Sp(h,e,s,o),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),Se=!1;function qe(e,n,s,o){n.child=e===null?Cg(n,null,s,o):Rr(n,e.child,s,o)}function bp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ar(n),o=ef(e,n,s,g,f,h),E=nf(),e!==null&&!Se?(sf(e,n,h),zi(e,n,h)):(Vt&&E&&Uh(n),n.flags|=1,qe(e,n,o,h),n.child)}function wp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Rp(e,n,f,o,h)):(e=vu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Rp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Nf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Af(e,n,s,o,h)}function Cp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Ip(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Dg(n,f):Zh(),Og(n);else return o=n.lanes=536870912,Ip(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Su(n,f.cachePool),Dg(n,f),Ts(),n.memoizedState=null):(e!==null&&Su(n,null),Zh(),Ts());return qe(e,n,h,s),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ip(e,n,s,o,h){var f=Fh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Su(n,null),Zh(),Og(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function Pu(e,n){return n=Bu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,s){return Rr(n,e.child,null,s),e=Pu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function $T(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Pu(n,o),n.lanes=536870912,Fo(null,e);if(Wh(n),(e=$t)?(e=By(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=fg(e),s.return=n,n.child=s,je=n,$t=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Pu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=Np(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ma(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(o=Zt,o!==null&&(g=ho(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_r(e,g),un(o,e,g),Tf;Ju(),n=Np(e,n,s)}else e=f.treeContext,$t=xn(g.nextSibling),je=n,Vt=!0,ms=null,Dn=!1,e!==null&&gg(n,e),n=Pu(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Af(e,n,s,o,h){return Ar(n),s=ef(e,n,s,o,void 0,h),o=nf(),e!==null&&!Se?(sf(e,n,h),zi(e,n,h)):(Vt&&o&&Uh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Dp(e,n,s,o,h,f){return Ar(n),n.updateQueue=null,s=Mg(n,o,s,h),xg(e),o=nf(),e!==null&&!Se?(sf(e,n,f),zi(e,n,f)):(Vt&&o&&Uh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Op(e,n,s,o,h){if(Ar(n),n.stateNode===null){var f=ca,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Kh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ca,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(_f(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Ir(s,E);f.props=R;var z=f.context,G=s.contextType;g=ca,typeof G=="object"&&G!==null&&(g=Be(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&yp(n,f,o,g),ys=!1;var P=n.memoizedState;f.state=P,jo(n,o,f,h),Po(),z=n.memoizedState,E||P!==z||ys?(typeof K=="function"&&(_f(n,s,K,o),z=n.memoizedState),(R=ys||pp(n,s,R,o,P,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Yh(e,n),g=n.memoizedProps,G=Ir(s,g),f.props=G,K=n.pendingProps,P=f.context,z=s.contextType,R=ca,typeof z=="object"&&z!==null&&(R=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||P!==R)&&yp(n,f,o,R),ys=!1,P=n.memoizedState,f.state=P,jo(n,o,f,h),Po();var q=n.memoizedState;g!==K||P!==q||ys||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,o),q=n.memoizedState),(G=ys||pp(n,s,G,o,P,q,R)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Rr(n,e.child,null,h),n.child=Rr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function xp(e,n,s,o){return Er(),n.flags|=256,qe(e,n,s,o),n.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Tg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Mp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Es(n):Ts(),(e=$t)?(e=By(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=fg(e),s.return=n,n.child=s,je=n,$t=null)):e=null,e===null)throw gs(n);return od(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ts(),h=n.mode,E=Bu({mode:"hidden",children:E},h),o=vr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,g,s),n.memoizedState=Sf,Fo(null,o)):(Es(n),Rf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=o.fallback,h=n.mode,o=Bu({mode:"visible",children:o.children},h),E=vr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Rr(n,e.child,null,s),o=n.child,o.memoizedState=bf(s),o.childLanes=wf(e,g,s),n.memoizedState=Sf,n=Fo(null,o));else if(Es(n),od(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Mo({value:o,source:null,stack:null}),n=Cf(e,n,s)}else if(Se||ma(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Zt,g!==null&&(o=ho(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,_r(e,o),un(g,e,o),Tf;ad(E)||Ju(),n=Cf(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,$t=xn(E.nextSibling),je=n,Vt=!0,ms=null,Dn=!1,e!==null&&gg(n,e),n=Rf(n,o.children),n.flags|=4096);return n}return h?(Ts(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=xi(z,E):(E=vr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Fo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Tg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=wf(e,g,s),n.memoizedState=Sf,Fo(e.child,o)):(Es(n),s=e.child,e=s.sibling,s=xi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Rr(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bh(e.return,n,s)}function If(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(de,g),qe(e,n,o,s),o=Vt?xo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,s,n);else if(e.tag===19)Vp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Nu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),If(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}If(n,!0,s,null,f,o);break;case"together":If(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ma(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=xi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function WT(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ps(n,Te,e.memoizedState.cache),Er();break;case 27:case 5:tr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Mp(e,n,s):(Es(n),e=zi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(ma(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,Cp(e,n,s,n.pendingProps);case 24:ps(n,Te,e.memoizedState.cache)}return zi(e,n,s)}function Up(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return Se=!1,WT(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&mg(n,xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=br(n.elementType),n.type=e,typeof e=="function")Mh(e)?(o=Ir(e,o),n.tag=1,n=Op(null,n,e,o,s)):(n.tag=0,n=Af(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=bp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=wp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Af(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Ir(o,n.pendingProps),Op(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ps(n,Te,o),o!==f.cache&&qh(n,[Te],s,!0),Po(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,s);break t}else if(o!==h){h=Cn(Error(a(424)),n),Mo(h),n=xp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,$t=xn(e.firstChild),je=n,Vt=!0,ms=null,Dn=!0,s=Cg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Er(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return ju(e,n),e===null?(s=Ky(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=ic(St.current).createElement(s),o[_e]=n,o[Me]=e,He(o,s,e),ve(o),n.stateNode=o):n.memoizedState=Ky(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&Vt&&(o=n.stateNode=Gy(n.type,n.pendingProps,St.current),je=n,Dn=!0,h=$t,Ns(n.type)?(ld=h,$t=xn(o.firstChild)):$t=h),qe(e,n,n.pendingProps.children,s),ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=$t)&&(o=N1(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,je=n,$t=xn(o.firstChild),Dn=!1,h=!0):h=!1),h||gs(n)),tr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,id(h,f)?o=null:g!==null&&id(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,GT,null,null,s),al._currentValue=h),ju(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=$t)&&(s=D1(s,n.pendingProps,Dn),s!==null?(n.stateNode=s,je=n,$t=null,e=!0):e=!1),e||gs(n)),null;case 13:return Mp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Rr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return bp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ar(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return wp(e,n,n.type,n.pendingProps,s);case 15:return Rp(e,n,n.type,n.pendingProps,s);case 19:return kp(e,n,s);case 31:return $T(e,n,s);case 22:return Cp(e,n,s,n.pendingProps);case 24:return Ar(n),o=Be(Te),e===null?(h=Fh(),h===null&&(h=Zt,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Kh(n),ps(n,Te,h)):((e.lanes&s)!==0&&(Yh(e,n),jo(n,null,null,s),Po()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Te,o)):(o=f.cache,ps(n,Te,o),o!==h.cache&&qh(n,[Te],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Df(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(uy())e.flags|=8192;else throw wr=wu,Qh}else e.flags&=-16777217}function Lp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$y(n))if(uy())e.flags|=8192;else throw wr=wu,Qh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,Ra|=n)}function Qo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function t1(e,n,s){var o=n.pendingProps;switch(Lh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Te),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ph())),Wt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(Wt(n),Lp(n,f)):(Wt(n),Df(n,h,null,o,s))):f?f!==e.memoizedState?(Pi(n),Wt(n),Lp(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pi(n),Wt(n),Df(n,h,e,o,s)),null;case 27:if(Fr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}e=st.current,da(n)?pg(n):(e=Gy(h,o,s),n.stateNode=e,Pi(n))}return Wt(n),null;case 5:if(Fr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(f=st.current,da(n))pg(n);else{var g=ic(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Pi(n)}}return Wt(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,da(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||My(e.nodeValue,s)),e||gs(n,!0)}else e=ic(e).createTextNode(o),e[_e]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else Er(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),h=!1}else h=Ph(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),Wt(n),null);case 4:return se(),e===null&&$f(n.stateNode.containerInfo),Wt(n),null;case 10:return ki(n.type),Wt(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return Wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Qo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Nu(e),f!==null){for(n.flags|=128,Qo(o,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)hg(s,e),s=s.sibling;return et(de,de.current&1|2),Vt&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Ku&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Nu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return Wt(n),null}else 2*$e()-o.renderingStartTime>Ku&&s!==536870912&&(n.flags|=128,h=!0,Qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,et(de,h?s&1|2:s&1),Vt&&Mi(n,o.treeForkCount),e):(Wt(n),null);case 22:case 23:return pn(n),$h(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Sr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Te),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function e1(e,n){switch(Lh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Te),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Er()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return se(),null;case 10:return ki(n.type),null;case 22:case 23:return pn(n),$h(),e!==null&&Y(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Te),null;case 25:return null;default:return null}}function zp(e,n){switch(Lh(n),n.tag){case 3:ki(Te),se();break;case 26:case 27:case 5:Fr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Y(de);break;case 10:ki(n.type);break;case 22:case 23:pn(n),$h(),e!==null&&Y(Sr);break;case 24:ki(Te)}}function Ko(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function As(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){Qt(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){Qt(n,n.return,G)}}function Pp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Ng(n,s)}catch(o){Qt(e,e.return,o)}}}function jp(e,n,s){s.props=Ir(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Yo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Qt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function Bp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Of(e,n,s){try{var o=e.stateNode;S1(o,e.type,s,n),o[Me]=n}catch(h){Qt(e,e.return,h)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Mf(e,n,s),e=e.sibling;e!==null;)Mf(e,n,s),e=e.sibling}function Hu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}function Hp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[_e]=e,n[Me]=s}catch(f){Qt(e,e.return,f)}}var ji=!1,be=!1,Vf=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,ke=null;function n1(e,n){if(e=e.containerInfo,ed=cc,e=ng(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,K=e,P=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)P=K,K=q;for(;;){if(K===e)break e;if(P===s&&++z===h&&(E=g),P===f&&++G===o&&(R=g),(q=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},cc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Ir(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(s,s.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function Fp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Ko(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Ir(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}o&64&&Pp(s),o&512&&Yo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ng(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&o&4&&Hp(s);case 26:case 5:qi(e,s),n===null&&o&4&&Bp(s),o&512&&Yo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&Yp(e,s);break;case 13:qi(e,s),o&4&&Xp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=h1.bind(null,s),O1(e,s))));break;case 22:if(o=s.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,be=f}break;case 30:break;default:qi(e,s)}}function Qp(e){var n=e.alternate;n!==null&&(e.alternate=null,Qp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Jr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)Kp(e,n,s),s=s.sibling}function Kp(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:be||_i(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||_i(s,n);var o=ae,h=rn;Ns(s.type)&&(ae=s.stateNode,rn=!1),Bi(e,n,s),il(s.stateNode),ae=o,rn=h;break;case 5:be||_i(s,n);case 6:if(o=ae,h=rn,ae=null,Bi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Va(e)):Py(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Bi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:As(2,s,n),be||As(4,s,n),Bi(e,n,s);break;case 1:be||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&jp(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:be=(o=be)||s.memoizedState!==null,Bi(e,n,s),be=o;break;default:Bi(e,n,s)}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Va(e)}catch(s){Qt(n,n.return,s)}}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Va(e)}catch(s){Qt(n,n.return,s)}}function i1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gp),n;default:throw Error(a(435,e.tag))}}function Gu(e,n){var s=i1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=f1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));Kp(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jp(n,e),n=n.sibling}var Qn=null;function Jp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(As(3,e,e.return),Ko(3,e),As(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[_e]=e,ve(f),o=f;break t;case"link":var g=Jy("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=Jy("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else Zy(h,e.type,e.stateNode);else e.stateNode=Xy(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Zy(h,e.type,e.stateNode):Xy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),s!==null&&o&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(be||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Vf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(ac=null,h=Qn,Qn=sc(n.containerInfo),an(n,e),Qn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Va(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Vf&&(Vf=!1,Zp(e));break;case 4:o=Qn,Qn=sc(e.stateNode.containerInfo),an(n,e),on(e),Qn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=ji,G=be;if(ji=z||h,be=G||R,an(n,e),be=G,ji=z,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ji||be||Nr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(rt){Qt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Qt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?jy(q,!0):jy(R.stateNode,!1)}catch(rt){Qt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Gu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(qp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=xf(e);Hu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=xf(e);Hu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=xf(e);Mf(e,z,R);break;default:throw Error(a(161))}}catch(G){Qt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Zp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fp(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Nr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&jp(n,n.return,s),Nr(n);break;case 27:il(n.stateNode);case 26:case 5:_i(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Ko(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Ig(R[h],E)}catch(z){Qt(o,o.return,z)}}s&&g&64&&Pp(f),Yo(f,f.return);break;case 27:Hp(f);case 26:case 5:Hi(h,f,s),s&&o===null&&g&4&&Bp(f),Yo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&g&4&&Yp(h,f);break;case 13:Hi(h,f,s),s&&g&4&&Xp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Yo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Vo(s))}function Uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e))}function Kn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$p(e,n,s,o),n=n.sibling}function $p(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,o),h&2048&&Ko(9,n);break;case 1:Kn(e,n,s,o);break;case 3:Kn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){Kn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Kn(e,n,s,o);break;case 31:Kn(e,n,s,o);break;case 13:Kn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,o):Xo(e,n):f._visibility&2?Kn(e,n,s,o):(f._visibility|=2,Sa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:Kn(e,n,s,o),h&2048&&Uf(n.alternate,n);break;default:Kn(e,n,s,o)}}function Sa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(f,g,E,R,h),Ko(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Sa(f,g,E,R,h):Xo(f,g):(G._visibility|=2,Sa(f,g,E,R,h)),h&&z&2048&&kf(g.alternate,g);break;case 24:Sa(f,g,E,R,h),h&&z&2048&&Uf(g.alternate,g);break;default:Sa(f,g,E,R,h)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xo(s,o),h&2048&&kf(o.alternate,o);break;case 24:Xo(s,o),h&2048&&Uf(o.alternate,o);break;default:Xo(s,o)}n=n.sibling}}var Jo=8192;function ba(e,n,s){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)Wp(e,n,s),e=e.sibling}function Wp(e,n,s){switch(e.tag){case 26:ba(e,n,s),e.flags&Jo&&e.memoizedState!==null&&H1(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,s);break;case 3:case 4:var o=Qn;Qn=sc(e.stateNode.containerInfo),ba(e,n,s),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,ba(e,n,s),Jo=o):ba(e,n,s));break;default:ba(e,n,s)}}function ty(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ny(o,e)}ty(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ey(e),e=e.sibling}function ey(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&As(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Zo(e);break;default:Zo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,ny(o,e)}ty(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ny(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(Qp(o),o===s){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var s1={getCacheForType:function(e){var n=Be(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Te).controller.signal}},r1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,wt=null,Ct=0,Ft=0,yn=null,Ss=!1,wa=!1,Lf=!1,Gi=0,ce=0,bs=0,Dr=0,zf=0,_n=0,Ra=0,$o=null,ln=null,Pf=!1,Qu=0,iy=0,Ku=1/0,Yu=null,ws=null,De=0,Rs=null,Ca=null,Fi=0,jf=0,Bf=null,sy=null,Wo=0,qf=null;function vn(){return(Bt&2)!==0&&Ct!==0?Ct&-Ct:F.T!==null?Yf():Xl()}function ry(){if(_n===0)if((Ct&536870912)===0||Vt){var e=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Cs(e,Ct,_n,!1)),sr(e,s),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Dr|=s),ce===4&&Cs(e,Ct,_n,!1)),vi(e))}function ay(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=o?l1(e,n):Gf(e,n,!0),f=o;do{if(h===0){wa&&!o&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!a1(s)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=$o;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=Gf(E,g,!1),g!==2){if(Lf&&!R){E.errorRecoveryDisabledLanes|=f,Dr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Cs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,_n,!Ss);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Qu+300-$e(),10<h)){if(Cs(o,n,_n,!Ss),ei(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Ly(oy.bind(null,o,s,ln,Yu,Pf,n,_n,Dr,Ra,Ss,f,"Throttled",-0,0),h);break t}oy(o,s,ln,Yu,Pf,n,_n,Dr,Ra,Ss,f,null,-0,0)}}break}while(!0);vi(e)}function oy(e,n,s,o,h,f,g,E,R,z,G,K,P,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},Wp(n,f,K);var rt=(f&62914560)===f?Qu-$e():(f&4194048)===f?iy-$e():0;if(rt=G1(K,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(gy.bind(null,e,n,f,s,o,h,g,E,R,G,K,null,P,q)),Cs(e,f,g,!z);return}}gy(e,n,f,s,o,h,g,E,R)}function a1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,o){n&=~zf,n&=~Dr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&rr(e,s,n)}function Xu(){return(Bt&6)===0?(tl(0),!1):!0}function Hf(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Vi=Tr=null,rf(e),_a=null,Uo=0,e=wt;for(;e!==null;)zp(e.alternate,e),e=e.return;wt=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,R1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Hf(),Zt=e,wt=s=xi(e.current,null),Ct=n,Ft=0,yn=null,Ss=!1,wa=Ln(e,n),Lf=!1,Ra=_n=zf=Dr=bs=ce=0,ln=$o=null,Pf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,pu(),s}function ly(e,n){At=null,F.H=Go,n===ya||n===bu?(n=bg(),Ft=3):n===Qh?(n=bg(),Ft=4):Ft=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ce=1,zu(e,Cn(n,e.current)))}function uy(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?On===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===On:!1}function cy(){var e=F.H;return F.H=Go,e===null?Go:e}function hy(){var e=F.A;return F.A=s1,e}function Ju(){ce=4,Ss||(Ct&4194048)!==Ct&&gn.current!==null||(wa=!0),(bs&134217727)===0&&(Dr&134217727)===0||Zt===null||Cs(Zt,Ct,_n,!1)}function Gf(e,n,s){var o=Bt;Bt|=2;var h=cy(),f=hy();(Zt!==e||Ct!==n)&&(Yu=null,Ia(e,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=yn;switch(Ft){case 8:Hf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var z=Ft;if(Ft=0,yn=null,Na(e,E,R,z),s&&wa){g=0;break t}break;default:z=Ft,Ft=0,yn=null,Na(e,E,R,z)}}o1(),g=ce;break}catch(G){ly(e,G)}while(!0);return n&&e.shellSuspendCounter++,Vi=Tr=null,Bt=o,F.H=h,F.A=f,wt===null&&(Zt=null,Ct=0,pu()),g}function o1(){for(;wt!==null;)fy(wt)}function l1(e,n){var s=Bt;Bt|=2;var o=cy(),h=hy();Zt!==e||Ct!==n?(Yu=null,Ku=$e()+500,Ia(e,n)):wa=Ln(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Na(e,n,f,1);break;case 2:case 9:if(Ag(f)){Ft=0,yn=null,dy(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),vi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Ag(f)?(Ft=0,yn=null,dy(n)):(Ft=0,yn=null,Na(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?$y(g):E.stateNode.complete){Ft=0,yn=null;var R=E.sibling;if(R!==null)wt=R;else{var z=E.return;z!==null?(wt=z,Zu(z)):wt=null}break e}}Ft=0,yn=null,Na(e,n,f,5);break;case 6:Ft=0,yn=null,Na(e,n,f,6);break;case 8:Hf(),ce=6;break t;default:throw Error(a(462))}}u1();break}catch(G){ly(e,G)}while(!0);return Vi=Tr=null,F.H=o,F.A=h,Bt=s,wt!==null?0:(Zt=null,Ct=0,pu(),ce)}function u1(){for(;wt!==null&&!vh();)fy(wt)}function fy(e){var n=Up(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Zu(e):wt=n}function dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Dp(s,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Dp(s,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:rf(n);default:zp(s,n),n=wt=hg(n,Gi),n=Up(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Zu(e):wt=n}function Na(e,n,s,o){Vi=Tr=null,rf(n),_a=null,Uo=0;var h=n.return;try{if(ZT(e,h,n,s,Ct)){ce=1,zu(e,Cn(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ce=1,zu(e,Cn(s,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:wa||(Ct&536870912)!==0?e=!1:(Ss=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),my(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){my(n,Ss);return}e=n.return;var s=t1(n.alternate,n,Gi);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function my(e,n){do{var s=e1(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);ce=6,wt=null}function gy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do $u();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oh,Ah(e,s,f,g,E,R),e===Zt&&(wt=Zt=null,Ct=0),Ca=n,Rs=e,Fi=s,jf=f,Bf=h,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d1(is,function(){return Ey(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=tt.p,tt.p=2,g=Bt,Bt|=4;try{n1(e,n,s)}finally{Bt=g,tt.p=h,F.T=o}}De=1,py(),yy(),_y()}}function py(){if(De===1){De=0;var e=Rs,n=Ca,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{Jp(n,e);var f=nd,g=ng(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&eg(E.ownerDocument.documentElement,E)){if(R!==null&&Rh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var q=P.getSelection(),rt=E.textContent.length,ft=Math.min(R.start,rt),Jt=R.end===void 0?ft:Math.min(R.end,rt);!q.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var V=tg(E,ft),N=tg(E,Jt);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=K.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),ft>Jt?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}cc=!!ed,nd=ed=null}finally{Bt=h,tt.p=o,F.T=s}}e.current=n,De=2}}function yy(){if(De===2){De=0;var e=Rs,n=Ca,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=tt.p;tt.p=2;var h=Bt;Bt|=4;try{Fp(e,n.alternate,n)}finally{Bt=h,tt.p=o,F.T=s}}De=3}}function _y(){if(De===4||De===3){De=0,ql();var e=Rs,n=Ca,s=Fi,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ca=Rs=null,vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),Ii(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=tt.p,tt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,tt.p=h}}(Fi&3)!==0&&$u(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?Wo++:(Wo=0,qf=e):Wo=0,tl(0)}}function vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Vo(n)))}function $u(){return py(),yy(),_y(),Ey()}function Ey(){if(De!==5)return!1;var e=Rs,n=jf;jf=0;var s=Ii(Fi),o=F.T,h=tt.p;try{tt.p=32>s?32:s,F.T=null,s=Bf,Bf=null;var f=Rs,g=Fi;if(De=0,Ca=Rs=null,Fi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,ey(f.current),$p(f,f.current,g,s),Bt=E,tl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{tt.p=h,F.T=o,vy(e,n)}}function Ty(e,n,s){n=Cn(s,n),n=Ef(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(sr(e,2),vi(e))}function Qt(e,n,s){if(e.tag===3)Ty(e,e,s);else for(;n!==null;){if(n.tag===3){Ty(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){e=Cn(s,e),s=Ap(2),o=vs(n,s,2),o!==null&&(Sp(s,o,n,e),sr(o,2),vi(o));break}}n=n.return}}function Ff(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new r1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Lf=!0,h.add(s),e=c1.bind(null,e,n,s),n.then(e,e))}function c1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Zt===e&&(Ct&s)===s&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>$e()-Qu?(Bt&2)===0&&Ia(e,0):zf|=s,Ra===Ct&&(Ra=0)),vi(e)}function Ay(e,n){n===0&&(n=Yl()),e=_r(e,n),e!==null&&(sr(e,n),vi(e))}function h1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ay(e,s)}function f1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ay(e,s)}function d1(e,n){return Ne(e,n)}var Wu=null,Da=null,Qf=!1,tc=!1,Kf=!1,Is=0;function vi(e){e!==Da&&e.next===null&&(Da===null?Wu=Da=e:Da=Da.next=e),tc=!0,Qf||(Qf=!0,g1())}function tl(e,n){if(!Kf&&tc){Kf=!0;do for(var s=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ry(o,f))}else f=Ct,f=ei(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Ln(o,f)||(s=!0,Ry(o,f));o=o.next}while(s);Kf=!1}}function m1(){Sy()}function Sy(){tc=Qf=!1;var e=0;Is!==0&&w1()&&(e=Is);for(var n=$e(),s=null,o=Wu;o!==null;){var h=o.next,f=by(o,n);f===0?(o.next=null,s===null?Wu=h:s.next=h,h===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}De!==0&&De!==5||tl(e),Is!==0&&(Is=0)}function by(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Th(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,s=Ct,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ns(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ns(o),Ii(s)){case 2:case 8:s=uo;break;case 32:s=is;break;case 268435456:s=Hl;break;default:s=is}return o=wy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ns(o),e.callbackPriority=2,e.callbackNode=null,2}function wy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if($u()&&e.callbackNode!==s)return null;var o=Ct;return o=ei(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ay(e,o,n),by(e,$e()),e.callbackNode!=null&&e.callbackNode===s?wy.bind(null,e):null)}function Ry(e,n){if($u())return null;ay(e,n,!0)}function g1(){C1(function(){(Bt&6)!==0?Ne(lo,m1):Sy()})}function Yf(){if(Is===0){var e=ga;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Is=e}return Is}function Cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Iy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function p1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Cy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Cy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var R=g?Iy(h,g):new FormData(h);mf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Iy(h,g):new FormData(h),mf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Xf=0;Xf<Dh.length;Xf++){var Jf=Dh[Xf],y1=Jf.toLowerCase(),_1=Jf[0].toUpperCase()+Jf.slice(1);Fn(y1,"on"+_1)}Fn(rg,"onAnimationEnd"),Fn(ag,"onAnimationIteration"),Fn(og,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(VT,"onTransitionRun"),Fn(kT,"onTransitionStart"),Fn(UT,"onTransitionCancel"),Fn(lg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function Ny(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){gu(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){gu(G)}h.currentTarget=null,f=R}}}}function Rt(e,n){var s=n[Xr];s===void 0&&(s=n[Xr]=new Set);var o=e+"__bubble";s.has(o)||(Dy(n,e,2,!1),s.add(o))}function Zf(e,n,s){var o=0;n&&(o|=4),Dy(s,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[ec]){e[ec]=!0,fo.forEach(function(s){s!=="selectionchange"&&(v1.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,Zf("selectionchange",!1,n))}}function Dy(e,n,s,o){switch(r_(n)){case 2:var h=K1;break;case 8:h=Y1;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}us(function(){var z=f,G=Sn(s),K=[];t:{var P=ug.get(e);if(P!==void 0){var q=fi,rt=e;switch(e){case"keypress":if(fr(s)===0)break t;case"keydown":case"keyup":q=fu;break;case"focusin":rt="focus",q=mr;break;case"focusout":rt="blur",q=mr;break;case"beforeblur":case"afterblur":q=mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case rg:case ag:case og:q=ru;break;case lg:q=T;break;case"scroll":case"scrollend":q=wo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),V=ft?P!==null?P+"Capture":null:P;ft=[];for(var N=z,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=Bn(N,V),Q!=null&&ft.push(nl(N,Q,L))),Jt)break;N=N.return}0<ft.length&&(P=new q(P,rt,null,s,G),K.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&s!==Ao&&(rt=s.relatedTarget||s.fromElement)&&(ri(rt)||rt[ii]))break t;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?ri(rt):null,rt!==null&&(Jt=c(rt),ft=rt.tag,rt!==Jt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(ft=Ro,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Oi,Q="onPointerLeave",V="onPointerEnter",N="pointer"),Jt=q==null?P:hn(q),L=rt==null?P:hn(rt),P=new ft(Q,N+"leave",q,s,G),P.target=Jt,P.relatedTarget=L,Q=null,ri(G)===z&&(ft=new ft(V,N+"enter",rt,s,G),ft.target=L,ft.relatedTarget=Jt,Q=ft),Jt=Q,q&&rt)e:{for(ft=E1,V=q,N=rt,L=0,Q=V;Q;Q=ft(Q))L++;Q=0;for(var lt=N;lt;lt=ft(lt))Q++;for(;0<L-Q;)V=ft(V),L--;for(;0<Q-L;)N=ft(N),Q--;for(;L--;){if(V===N||N!==null&&V===N.alternate){ft=V;break e}V=ft(V),N=ft(N)}ft=null}else ft=null;q!==null&&Oy(K,P,q,ft,!1),rt!==null&&Jt!==null&&Oy(K,Jt,rt,ft,!0)}}t:{if(P=z?hn(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var zt=Ym;else if(Qm(P))if(Xm)zt=OT;else{zt=NT;var at=IT}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Wr(z.elementType)&&(zt=Ym):zt=DT;if(zt&&(zt=zt(e,z))){Km(K,zt,s,G);break t}at&&at(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&vo(P,"number",P.value)}switch(at=z?hn(z):window,e){case"focusin":(Qm(at)||at.contentEditable==="true")&&(oa=at,Ch=z,Oo=null);break;case"focusout":Oo=Ch=oa=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,ig(K,s,G);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":ig(K,s,G)}var bt;if(jt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else aa?gr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(gi&&s.locale!=="ko"&&(aa||It!=="onCompositionStart"?It==="onCompositionEnd"&&aa&&(bt=bo()):(hi=G,So="value"in hi?hi.value:hi.textContent,aa=!0)),at=nc(z,It),0<at.length&&(It=new mi(It,e,null,s,G),K.push({event:It,listeners:at}),bt?It.data=bt:(bt=ra(s),bt!==null&&(It.data=bt)))),(bt=wn?bT(e,s):wT(e,s))&&(It=nc(z,"onBeforeInput"),0<It.length&&(at=new mi("onBeforeInput","beforeinput",null,s,G),K.push({event:at,listeners:It}),at.data=bt)),p1(K,e,z,s,G)}Ny(K,n)})}function nl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function nc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&o.unshift(nl(e,h,f)),h=Bn(e,n),h!=null&&o.push(nl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function E1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Bn(s,f),z!=null&&g.unshift(nl(s,z,R))):h||(z=Bn(s,f),z!=null&&g.push(nl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var T1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(T1,`
`).replace(A1,"")}function My(e,n){return n=xy(n),xy(e)===n}function Xt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ta(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=jn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Zr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Zr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=nu.get(s)||s,Zr(e,s,o))}}function td(e,n,s,o,h,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Zr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),o&&Xt(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Xt(e,n,o,G,s,null)}}Wl(e,f,E,R,z,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?rs(e,!!o,n,!1):s!=null&&rs(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}as(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,R,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<el.length;o++)Rt(el[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,z,o,s,null)}return;default:if(Wr(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&td(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Xt(e,n,E,o,s,null))}function S1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,K)}}for(var P in o){var q=o[P];if(K=s[P],o.hasOwnProperty(P)&&(q!=null||K!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Xt(e,n,P,q,o,K)}}$r(e,g,E,R,z,G,f,h);return;case"select":q=g=E=P=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,s=g,o=q,P!=null?rs(e,!!s,P,!1):!!o!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}tu(e,P,q);return;case"option":for(var rt in s)P=s[rt],s.hasOwnProperty(rt)&&P!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Xt(e,n,rt,null,o,P));for(R in o)P=o[R],q=s[R],o.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Xt(e,n,R,P,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in s)P=s[ft],s.hasOwnProperty(ft)&&P!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,P);for(z in o)if(P=o[z],q=s[z],o.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Xt(e,n,z,P,o,q)}return;default:if(Wr(n)){for(var Jt in s)P=s[Jt],s.hasOwnProperty(Jt)&&P!==void 0&&!o.hasOwnProperty(Jt)&&td(e,n,Jt,void 0,o,P);for(G in o)P=o[G],q=s[G],!o.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||td(e,n,G,P,o,q);return}}for(var V in s)P=s[V],s.hasOwnProperty(V)&&P!=null&&!o.hasOwnProperty(V)&&Xt(e,n,V,null,o,P);for(K in o)P=o[K],q=s[K],!o.hasOwnProperty(K)||P===q||P==null&&q==null||Xt(e,n,K,P,o,q)}function Vy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Vy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>E)break;var G=R.transferSize,K=R.initiatorType;G&&Vy(K)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function w1(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(I1)}:Ly;function I1(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function Py(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Va(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")il(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,il(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&il(e.ownerDocument.body);s=h}while(s);Va(n)}function jy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),Jr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function N1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function D1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function By(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ld=null;function qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Hy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Gy(e,n,s){switch(n=ic(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Jr(e)}var Mn=new Map,Fy=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:x1,r:M1,D:V1,C:k1,L:U1,m:L1,X:P1,S:z1,M:j1};function x1(){var e=Qi.f(),n=Xu();return e||n}function M1(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?lp(n):Qi.r(e)}var Oa=typeof document>"u"?null:document;function Qy(e,n,s){var o=Oa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Fy.has(h)||(Fy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function V1(e){Qi.D(e),Qy("dns-prefetch",e,null)}function k1(e,n){Qi.C(e,n),Qy("preconnect",e,n)}function U1(e,n,s){Qi.L(e,n,s);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=xa(e);break;case"script":f=Ma(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(rl(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function L1(e,n){Qi.m(e,n);var s=Oa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rl(f)))return}o=s.createElement("link"),He(o,"link",e),ve(o),s.head.appendChild(o)}}}function z1(e,n,s){Qi.S(e,n,s);var o=Oa;if(o&&e){var h=ai(o).hoistableStyles,f=xa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Mn.get(f))&&ud(e,s);var R=g=o.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function P1(e,n){Qi.X(e,n);var s=Oa;if(s&&e){var o=ai(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&cd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function j1(e,n){Qi.M(e,n);var s=Oa;if(s&&e){var o=ai(s).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=s.querySelector(rl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&cd(e,n),f=s.createElement("script"),ve(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ky(e,n,s,o){var h=(h=St.current)?sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xa(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xa(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(e,s),f||B1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xa(e){return'href="'+nn(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function Yy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function B1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),ve(n),e.head.appendChild(n))}function Ma(e){return'[src="'+nn(e)+'"]'}function rl(e){return"script[async]"+e}function Xy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),rc(o,s.precedence,e),n.instance=o;case"stylesheet":h=xa(s.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=Yy(s),(h=Mn.get(h))&&ud(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,rc(f,s.precedence,e),n.instance=f;case"script":return f=Ma(s.src),(h=e.querySelector(rl(f)))?(n.instance=h,ve(h),h):(o=s,(h=Mn.get(f))&&(o=S({},s),cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,rc(o,s.precedence,e));return n.instance}function rc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function Jy(e,n,s){if(ac===null){var o=new Map,h=ac=new Map;h.set(s,o)}else h=ac,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Zy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function q1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function H1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=xa(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=Yy(o),(h=Mn.get(h))&&ud(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=oc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function G1(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*b1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(F1,e),lc=null,oc.call(e))}function F1(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var o=s.get(null);else{s=new Map,lc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var al={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Q1(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Wy(e,n,s,o,h,f,g,E,R,z,G,K){return e=new Q1(e,n,s,g,R,z,G,K,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Kh(f),e}function t_(e){return e?(e=ca,e):ca}function e_(e,n,s,o,h,f){h=t_(h),o.context===null?o.context=h:o.pendingContext=h,o=_s(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vs(e,o,n),s!==null&&(un(s,e,n),zo(s,e,n))}function n_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){n_(e,n),(e=e.alternate)&&n_(e,n)}function i_(e){if(e.tag===13||e.tag===31){var n=_r(e,67108864);n!==null&&un(n,e,67108864),fd(e,67108864)}}function s_(e){if(e.tag===13||e.tag===31){var n=vn();n=ar(n);var s=_r(e,n);s!==null&&un(s,e,n),fd(e,n)}}var cc=!0;function K1(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=2,dd(e,n,s,o)}finally{tt.p=f,F.T=h}}function Y1(e,n,s,o){var h=F.T;F.T=null;var f=tt.p;try{tt.p=8,dd(e,n,s,o)}finally{tt.p=f,F.T=h}}function dd(e,n,s,o){if(cc){var h=md(o);if(h===null)Wf(e,n,o,hc,s),a_(e,o);else if(J1(h,e,n,s,o))o.stopPropagation();else if(a_(e,o),n&4&&-1<X1.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}vi(f),(Bt&6)===0&&(Ku=$e()+500,tl(0))}}break;case 31:case 13:E=_r(f,2),E!==null&&un(E,f,2),Xu(),fd(f,2)}if(f=md(o),f===null&&Wf(e,n,o,hc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Wf(e,n,o,null,s)}}function md(e){return e=Sn(e),gd(e)}var hc=null;function gd(e){if(hc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function r_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case lo:return 2;case uo:return 8;case is:case Eh:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var pd=!1,Ds=null,Os=null,xs=null,ol=new Map,ll=new Map,Ms=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ul(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&i_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function J1(e,n,s,o,h){switch(n){case"focusin":return Ds=ul(Ds,e,n,s,o,h),!0;case"dragenter":return Os=ul(Os,e,n,s,o,h),!0;case"mouseover":return xs=ul(xs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ol.set(f,ul(ol.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ll.set(f,ul(ll.get(f)||null,e,n,s,o,h)),!0}return!1}function o_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){s_(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,zn(e.priority,function(){s_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=An(s),n!==null&&i_(n),e.blockedOn=s,!1;n.shift()}return!0}function l_(e,n,s){fc(e)&&s.delete(n)}function Z1(){pd=!1,Ds!==null&&fc(Ds)&&(Ds=null),Os!==null&&fc(Os)&&(Os=null),xs!==null&&fc(xs)&&(xs=null),ol.forEach(l_),ll.forEach(l_)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Z1)))}var mc=null;function u_(e){mc!==e&&(mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(gd(o||s)===null)continue;break}var f=An(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Va(e){function n(R){return dc(R,e)}Ds!==null&&dc(Ds,e),Os!==null&&dc(Os,e),xs!==null&&dc(xs,e),ol.forEach(n),ll.forEach(n);for(var s=0;s<Ms.length;s++){var o=Ms[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ms.length&&(s=Ms[0],s.blockedOn===null);)o_(s),s.blockedOn===null&&Ms.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Me]||null;if(typeof f=="function")g||u_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(gd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),u_(s)}}}function c_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}gc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();e_(s,o,e,n,null,null)},gc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e_(e.current,2,null,e,null,null),Xu(),n[ii]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ms.length&&n!==0&&n<Ms[s].priority;s++);Ms.splice(s,0,e),s===0&&o_(e)}};var h_=t.version;if(h_!=="19.2.4")throw Error(a(527,h_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var $1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Un=pc.inject($1),ze=pc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=_p,f=vp,g=Ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Wy(e,1,!1,null,null,s,o,null,h,f,g,c_),e[ii]=n.current,$f(e),new yd(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=_p,g=vp,E=Ep,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=Wy(e,1,!0,n,s??null,o,h,R,f,g,E,c_),n.context=t_(null),s=n.current,o=vn(),o=ar(o),h=_s(o),h.callback=null,vs(s,h,o),s=o,n.current.lanes=s,sr(n,s),vi(n),e[ii]=n.current,$f(e),new gc(n)},hl.version="19.2.4",hl}var T_;function lA(){if(T_)return Ed.exports;T_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=oA(),Ed.exports}var uA=lA();const cA=()=>{};var A_={};const $v=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},hA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,v=l+2<r.length,p=v?r[l+2]:0,A=c>>2,S=(c&3)<<4|y>>4;let M=(y&15)<<2|p>>6,H=p&63;v||(H=64,d||(M=64)),a.push(i[A],i[S],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($v(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):hA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const p=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||p==null||S==null)throw new fA;const M=c<<2|y>>4;if(a.push(M),p!==64){const H=y<<4&240|p>>2;if(a.push(H),S!==64){const $=p<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dA=function(r){const t=$v(r);return Wv.encodeByteArray(t,!0)},Mc=function(r){return dA(r).replace(/\./g,"")},t0=function(r){try{return Wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gA=()=>mA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process>"u"||typeof A_>"u")return;const r=A_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&t0(r[1]);return t&&JSON.parse(t)},th=()=>{try{return cA()||gA()||pA()||yA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e0=r=>th()?.emulatorHosts?.[r],_A=r=>{const t=e0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},n0=()=>th()?.config,i0=r=>th()?.[`_${r}`];class vA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function $a(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s0(r){return(await fetch(r,{credentials:"include"})).ok}function EA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Mc(JSON.stringify(i)),Mc(JSON.stringify(d)),""].join(".")}const yl={};function TA(){const r={prod:[],emulator:[]};for(const t of Object.keys(yl))yl[t]?r.emulator.push(t):r.prod.push(t);return r}function AA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let S_=!1;function r0(r,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||yl[r]===t||yl[r]||S_)return;yl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=TA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function p(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{S_=!0,d()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=AA(a),H=i("text"),$=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),nt=document.getElementById(W)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;y(dt),A(nt,W);const xt=p();v(Et,ht),dt.append(Et,$,nt,xt),document.body.appendChild(dt)}c?($.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function bA(){const r=th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const xA="FirebaseError";class es extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=xA,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?MA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new es(l,y,a)}}function MA(r,t){return r.replace(VA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const VA=/\{\$([^}]+)}/g;function kA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function kr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(b_(c)&&b_(d)){if(!kr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function b_(r){return r!==null&&typeof r=="object"}function Ml(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function UA(r,t){const i=new LA(r,t);return i.subscribe.bind(i)}class LA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");zA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=bd),l.error===void 0&&(l.error=bd),l.complete===void 0&&(l.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function bd(){}function En(r){return r&&r._delegate?r._delegate:r}class Ur{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Or="[DEFAULT]";class PA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new vA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BA(t))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Or){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Or){return this.instances.has(t)}getOptions(t=Or){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Or){return this.component?this.component.multipleInstances?t:Or:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(r){return r===Or?void 0:r}function BA(r){return r.instantiationMode==="EAGER"}class qA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new PA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const HA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},GA=Nt.INFO,FA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},QA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=FA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class om{constructor(t){this.name=t,this._logLevel=GA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const KA=(r,t)=>t.some(i=>r instanceof i);let w_,R_;function YA(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Ud=new WeakMap,o0=new WeakMap,wd=new WeakMap,lm=new WeakMap;function JA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Bs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&a0.set(i,r)}).catch(()=>{}),lm.set(t,r),t}function ZA(r){if(Ud.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ud.set(r,t)}let Ld={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ud.get(r);if(t==="objectStoreNames")return r.objectStoreNames||o0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function $A(r){Ld=r(Ld)}function WA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Rd(this),t,...i);return o0.set(a,t.sort?t.sort():[t]),Bs(a)}:XA().includes(r)?function(...t){return r.apply(Rd(this),t),Bs(a0.get(this))}:function(...t){return Bs(r.apply(Rd(this),t))}}function tS(r){return typeof r=="function"?WA(r):(r instanceof IDBTransaction&&ZA(r),KA(r,YA())?new Proxy(r,Ld):r)}function Bs(r){if(r instanceof IDBRequest)return JA(r);if(wd.has(r))return wd.get(r);const t=tS(r);return t!==r&&(wd.set(r,t),lm.set(t,r)),t}const Rd=r=>lm.get(r);function eS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),y=Bs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Bs(d.result),v.oldVersion,v.newVersion,Bs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const nS=["get","getKey","getAll","getAllKeys","count"],iS=["put","add","delete","clear"],Cd=new Map;function C_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cd.get(t))return Cd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=iS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||nS.includes(i)))return;const c=async function(d,...y){const v=this.transaction(d,l?"readwrite":"readonly");let p=v.store;return a&&(p=p.index(y.shift())),(await Promise.all([p[i](...y),l&&v.done]))[0]};return Cd.set(t,c),c}$A(r=>({...r,get:(t,i,a)=>C_(t,i)||r.get(t,i,a),has:(t,i)=>!!C_(t,i)||r.has(t,i)}));class sS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function rS(r){return r.getComponent()?.type==="VERSION"}const zd="@firebase/app",I_="0.14.8";const Ji=new om("@firebase/app"),aS="@firebase/app-compat",oS="@firebase/analytics-compat",lS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",hS="@firebase/auth",fS="@firebase/auth-compat",dS="@firebase/database",mS="@firebase/data-connect",gS="@firebase/database-compat",pS="@firebase/functions",yS="@firebase/functions-compat",_S="@firebase/installations",vS="@firebase/installations-compat",ES="@firebase/messaging",TS="@firebase/messaging-compat",AS="@firebase/performance",SS="@firebase/performance-compat",bS="@firebase/remote-config",wS="@firebase/remote-config-compat",RS="@firebase/storage",CS="@firebase/storage-compat",IS="@firebase/firestore",NS="@firebase/ai",DS="@firebase/firestore-compat",OS="firebase",xS="12.9.0";const Pd="[DEFAULT]",MS={[zd]:"fire-core",[aS]:"fire-core-compat",[lS]:"fire-analytics",[oS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[hS]:"fire-auth",[fS]:"fire-auth-compat",[dS]:"fire-rtdb",[mS]:"fire-data-connect",[gS]:"fire-rtdb-compat",[pS]:"fire-fn",[yS]:"fire-fn-compat",[_S]:"fire-iid",[vS]:"fire-iid-compat",[ES]:"fire-fcm",[TS]:"fire-fcm-compat",[AS]:"fire-perf",[SS]:"fire-perf-compat",[bS]:"fire-rc",[wS]:"fire-rc-compat",[RS]:"fire-gcs",[CS]:"fire-gcs-compat",[IS]:"fire-fst",[DS]:"fire-fst-compat",[NS]:"fire-vertex","fire-js":"fire-js",[OS]:"fire-js-all"};const Vc=new Map,VS=new Map,jd=new Map;function N_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qa(r){const t=r.name;if(jd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,r);for(const i of Vc.values())N_(i,r);for(const i of VS.values())N_(i,r);return!0}function um(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new xl("app","Firebase",kS);class US{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Wa=xS;function l0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Pd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qs.create("bad-app-name",{appName:String(l)});if(i||(i=n0()),!i)throw qs.create("no-options");const c=Vc.get(l);if(c){if(kr(i,c.options)&&kr(a,c.config))return c;throw qs.create("duplicate-app",{appName:l})}const d=new qA(l);for(const v of jd.values())d.addComponent(v);const y=new US(i,a,d);return Vc.set(l,y),y}function u0(r=Pd){const t=Vc.get(r);if(!t&&r===Pd&&n0())return l0();if(!t)throw qs.create("no-app",{appName:r});return t}function Hs(r,t,i){let a=MS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new Ur(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const LS="firebase-heartbeat-database",zS=1,bl="firebase-heartbeat-store";let Id=null;function c0(){return Id||(Id=eS(LS,zS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(r=>{throw qs.create("idb-open",{originalErrorMessage:r.message})})),Id}async function PS(r){try{const i=(await c0()).transaction(bl),a=await i.objectStore(bl).get(h0(r));return await i.done,a}catch(t){if(t instanceof es)Ji.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function D_(r,t){try{const a=(await c0()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,h0(r)),await a.done}catch(i){if(i instanceof es)Ji.warn(i.message);else{const a=qs.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function h0(r){return`${r.name}!${r.options.appId}`}const jS=1024,BS=30;class qS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>BS){const l=FS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:i,unsentEntries:a}=HS(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function HS(r,t=jS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class GS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await PS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return D_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function x_(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function FS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function QS(r){Qa(new Ur("platform-logger",t=>new sS(t),"PRIVATE")),Qa(new Ur("heartbeat",t=>new qS(t),"PRIVATE")),Hs(zd,I_,r),Hs(zd,I_,"esm2020"),Hs("fire-js","")}QS("");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,f0;(function(){var r;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,k){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=b+(k^C&(D^k))+x[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(C^D))+x[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^k)+x[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~k))+x[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(x[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,x),D=0;break}}else for(;k<b;)if(x[D++]=I[k++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function c(I,b){var C=y;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;x&&k==b||(C[D]=k,x=!1)}this.g=C}var y={};function v(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return nt(p(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return nt(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(b,8));let x=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),b);D<8?(D=p(Math.pow(b,D)),x=x.j(D).add(p(w))):(x=x.j(C),x=x.add(p(w)))}return x}var S=v(0),M=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-nt(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+nt(this).toString(I);const b=p(Math.pow(I,6));var C=this;let x="";for(;;){const D=xt(C,b).g;C=ht(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,$(C))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}r.l=function(I){return I=ht(this,I),W(I)?-1:$(I)?0:1};function nt(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new d(C,~I.h).add(M)}r.abs=function(){return W(this)?nt(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=b;D++){let k=x+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(I,b){return I.add(nt(b))}r.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?nt(this).j(nt(I)):nt(nt(this).j(I));if(W(I))return nt(this.j(nt(I)));if(this.l(H)<0&&I.l(H)<0)return p(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const k=this.i(x)>>>16,w=this.i(x)&65535,ie=I.i(D)>>>16,Ce=I.i(D)&65535;C[2*x+2*D]+=w*Ce,Et(C,2*x+2*D),C[2*x+2*D+1]+=k*Ce,Et(C,2*x+2*D+1),C[2*x+2*D+1]+=w*ie,Et(C,2*x+2*D+1),C[2*x+2*D+2]+=k*ie,Et(C,2*x+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function Et(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function dt(I,b){this.g=I,this.h=b}function xt(I,b){if($(b))throw Error("division by zero");if($(I))return new dt(S,S);if(W(I))return b=xt(nt(I),b),new dt(nt(b.g),nt(b.h));if(W(b))return b=xt(I,nt(b)),new dt(nt(b.g),b.h);if(I.g.length>30){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,x=b;x.l(I)<=0;)C=ne(C),x=ne(x);var D=Mt(C,1),k=Mt(x,1);for(x=Mt(x,2),C=Mt(C,2);!$(x);){var w=k.add(x);w.l(I)<=0&&(D=D.add(C),k=w),x=Mt(x,1),C=Mt(C,1)}return b=ht(I,D.j(b)),new dt(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=p(C),w=k.j(b);W(w)||w.l(I)>0;)C-=x,k=p(C),w=k.j(b);$(k)&&(k=M),D=D.add(k),I=ht(I,w)}return new dt(D,I)}r.B=function(I){return xt(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function ne(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function Mt(I,b){const C=b>>5;b%=32;const x=I.g.length-C,D=[];for(let k=0;k<x;k++)D[k]=b>0?I.i(k+C)>>>b|I.i(k+C+1)<<32-b:I.i(k+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,f0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,Gs=d}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d0,dl,m0,Sc,Bd,g0,p0,y0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break t;_=_[U]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function p(u,m,_){return p=v,p.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var Z=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Z[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,Z)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let Z=0;Z<B;Z++)u[_+Z]=U[Z]}else u.push(U)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=dt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Mt=!1,I=new Et,b=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){nt(_)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,D),ie.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function tt(u,m,_,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let B=0;B<Y.length;B++)_=Y[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const Z=St(u,m,T,U);return Z>-1?(m=u[Z],_||(m.fa=!1)):(m=new tt(m,this.src,B,!!T,U),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,_,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,T,U);return null}return _=oo(_),u&&u[Ce]?u.J(m,_,y(T)?!!T.capture:!1,U):tr(u,m,_,!1,T,U)}function tr(u,m,_,T,U,B){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let Tt=er(u);if(Tt||(u[kt]=Tt=new st(u)),_=Tt.add(m,_,T,Z,B),_.proxy)return _;if(T=Fr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(U=Z),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fr(){function u(_){return m.call(u.src,u.listener,_)}const m=ro;return u}function Qr(u,m,_,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qr(u,m[B],_,T,U);else T=y(T)?!!T.capture:!!T,_=oo(_),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=St(m,_,T,U),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,T,U)),(_=u>-1?m[u]:null)&&Kr(_))}function Kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent($n(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=er(m))?(pt(_,u),_.h==0&&(_.src=null,m[kt]=null)):ut(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ro(u,m){if(u.da)u=!0;else{m=new ie(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Kr(u),u=_.call(T,m)}return u}function er(u){return u=u[kt],u instanceof st?u:null}var ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function oo(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function pe(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,x),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,_,T){Qr(this,u,m,_,T)};function Ne(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),et(m,U)}U=!0;let B,Z;if(_)for(Z=_.length-1;Z>=0;Z--)B=m.g=_[Z],U=ns(B,T,!0,m)&&U;if(B=m.g=u,U=ns(B,T,!0,m)&&U,U=ns(B,T,!1,m)&&U,_)for(Z=0;Z<_.length;Z++)B=m.g=_[Z],U=ns(B,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},pe.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ns(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const Z=m[B];if(Z&&!Z.da&&Z.capture==_){const Tt=Z.listener,fe=Z.ha||Z.src;Z.fa&&pt(u.i,Z),U=Tt.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ql(u){u.g=vh(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends x{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){x.call(this),this.h=u,this.g={}}S(nr,x);var lo=[];function uo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Kr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),uo(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,Eh=d.JSON.parse,Hl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gl(){}function Fl(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function Tn(){D.call(this,"c")}S(Tn,D);var he={},Ql=null;function Yr(){return Ql=Ql||new pe}he.Ia="serverreachability";function Kl(u){D.call(this,he.Ia,u)}S(Kl,D);function Wn(u){const m=Yr();Ne(m,new Kl(m))}he.STAT_EVENT="statevent";function ir(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}S(ir,D);function ye(u){const m=Yr();Ne(m,new ir(m,u))}he.Ja="timingevent";function ti(u,m){D.call(this,he.Ja,u),this.size=m}S(ti,D);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Th(u,m,_,T,U,B){u.info(function(){if(u.g)if(B){var Z="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var fe=Tt[jt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const wn=re.split("_");Z=wn.length>=2&&wn[1]=="type"?Z+(re+"="+fe+"&"):Z+(re+"=redacted&")}}}else Z=null;else Z=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+_+`
`+Z})}function Yl(u,m,_,T,U,B,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+Z})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ah(u,_)+(T?" "+T:"")})}function sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Ah(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return is(B)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ho;function ar(){}S(ar,Gl),ar.prototype.g=function(){return new XMLHttpRequest},ho=new ar;function Ii(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function zn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function ii(u,m,_){u.M=1,u.A=or(Ee(m)),u.u=_,u.R=!0,Xr(u,null)}function Xr(u,m){u.F=Date.now(),si(u),u.B=Ee(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Wr(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Pn,u.g=cu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(p(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(lo[0]=U.toString()),U=lo);for(let B=0;B<U.length;B++){const Z=se(_,U[B],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||jt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var _=Sh(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<_.length;)if(re=Zl(this,_),re==Me){Tt==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),An(this);else if(_.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Co(Z),Z.P=!0,ye(11))}}else ni(this.i,this.l,_,null),ai(this,_);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?au(this.j,this):(this.o=!1,si(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}};function Sh(u){if(!Jl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let _="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Me:(_=Number(m.substring(_,T)),isNaN(_)?_e:(T+=1,T+_>m.length?Me:(m=m.slice(T,T+_),u.C=T+_,m)))}zn.prototype.cancel=function(){this.K=!0,hn(this)};function si(u){u.T=Date.now()+u.H,Jr(u,u.H)}function Jr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(p(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&(Wn(),ye(17)),hn(this),this.m=2,An(this)):Jr(this,this.T-u)};function An(u){u.j.I==0||u.K||au(u.j,u)}function hn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,uo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)sa(_),hs(_);else break t;mr(_),ye(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(p(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&sa(_),!w(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const re=jt[0];if(!(re<=_.K))if(_.K=re,jt=jt[1],_.I==2)if(jt[0]=="c"){_.M=jt[1],_.ba=jt[2];const wn=jt[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const gi=jt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Gn=u.g;if(Gn){const gr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var B=T.h;B.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(go(B,B.h),B.h=null))}if(T.G){const ra=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Gt(T.J,T.G,ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var Z=u;if(T.na=uu(T,T.L?T.ba:null,T.W),Z.L){po(T.h,Z);var Tt=Z,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(ri(Tt),si(Tt)),T.g=Z}else su(T);_.i.length>0&&di(_)}else jt[0]!="stop"&&jt[0]!="close"||mi(_,7);else _.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?mi(_,7):wo(_):jt[0]!="noop"&&_.l&&_.l.qa(jt),_.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function fo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function go(u,m){u.g?u.g.add(m):u.h=m}function po(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}fo.prototype.cancel=function(){if(this.i=yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return H(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,B=null;T>=0?(U=u[_].substring(0,T),B=u[_].substring(T+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,_o(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ss(this,m[4]),this.h=ui(m[5]||"",!0),_o(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(lr(m,$r,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,$r,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(lr(_,_.charAt(0)=="/"?vo:Wl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",lr(_,tu)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let _=!!u.j;_?Ve(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ss(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let Z=0;Z<U.length;){const Tt=U[Z++];Tt=="."?T&&Z==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&Z==U.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=U}return _?m.h=T:_=u.i.toString()!=="",_?_o(m,nu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ee(u){return new fn(u)}function Ve(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _o(u,m,_){m instanceof as?(u.i=m,ta(u.i,u.l)):(_||(m=lr(m,rs)),u.i=new as(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function or(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $r=/[#\/\?@]/g,Wl=/[#\?:]/g,vo=/[#\?]/g,rs=/[#\?@]/g,tu=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Zr(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=as.prototype,r.add=function(u,m){sn(this),this.i=null,u=os(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function eu(u,m){sn(u),m=os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return sn(u),m=os(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(m,U,T,this)},this)},this)};function To(u,m){sn(u);let _=[];if(typeof m=="string")Eo(u,m)&&(_=_.concat(u.g.get(os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return sn(this),this.i=null,u=os(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function Wr(u,m,_){eu(u,m),_.length>0&&(u.i=null,u.g.set(os(u,m),H(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const U=Ii(_);_=To(this,_);for(let B=0;B<_.length;B++){let Z=U;_[B]!==""&&(Z+="="+Ii(_[B])),u.push(Z)}}return this.i=u.join("&")};function nu(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(eu(this,T),Wr(this,U,_))},u)),u.j=m}function jn(u,m){const _=new Ln;if(d.Image){const T=new Image;T.onload=A(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ao(u,m){const _=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function ls(){this.g=new Hl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Gl),ci.prototype.g=function(){return new ur(this.i,this.h)};function ur(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ur,pe),r=ur.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&ea(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},r.Na=function(u){this.g&&(this.response=u,us(this))},r.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function cr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=bn(_),typeof u=="string"?_!=null&&Ii(_):Gt(u,m,_))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var hi=/^https?$/i,So=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ho.g(),this.g.onreadystatechange=M(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){hr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(So,m,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of _)this.g.setRequestHeader(B,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){hr(this,B)}};function hr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bo(u),Ni(u)}function bo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fr(this):this.Xa())},r.Xa=function(){fr(this)};function fr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let Z=String(u.D).match($l)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!hi.test(Z?Z.toLowerCase():"")}_=T}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",bo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Eh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=Xl(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(u&&u.concurrentRequestLimit),this.Ba=new ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){ye(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=uu(this,null,this.W),di(this)};function wo(u){if(na(u),u.I==3){var m=u.V++,_=Ee(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),dr(u,_),m=new zn(u,u.j,m),m.M=2,m.A=or(Ee(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}lu(u)}function hs(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function na(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||b(),Mt||(ne(),Mt=!0),I.add(m,u),u.D=0}}function ia(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(p(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),et(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=iu(this,U,m),_=Ee(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),dr(this,_),B&&(this.R?m="headers="+Ii(bn(B))+"&"+m:this.u&&cr(_,this.u,B)),go(this.h,U),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),U.U=!0,ii(U,_,null)):ii(U,_,m),this.I=2}}else this.I==3&&(u?Ro(this,u):this.i.length==0||mo(this.h)||Ro(this))};function Ro(u,m){var _;m?_=m.l:_=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),dr(u,T),u.u&&u.o&&cr(T,u.u,u.o),_=new zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),go(u.h,_),ii(_,T,m)}function dr(u,m){u.H&&Lt(u.H,function(_,T){Gt(m,T,_)}),u.l&&Lt({},function(_,T){Gt(m,T,_)})}function iu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?p(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const fe=["count="+_];Tt==-1?_>0?(Tt=U[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let jt=!0;for(let re=0;re<_;re++){var B=U[re].g;const wn=U[re].map;if(B-=Tt,B<0)Tt=Math.max(0,U[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var Z=wn instanceof Map?wn:Object.entries(wn);for(const[gi,Hn]of Z){let Gn=Hn;y(Hn)&&(Gn=is(Hn)),fe.push(B+gi+"="+encodeURIComponent(Gn))}}catch(gi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(wn)}}if(jt){Z=fe.join("&");break t}}Z=void 0}return u=u.i.splice(0,_),m.G=u,Z}function su(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||b(),Mt||(ne(),Mt=!0),I.add(m,u),u.A=0}}function mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(p(u.Da,u),ou(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hs(this),ru(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),dr(u,m),u.u&&u.o&&cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=or(Ee(m)),_.u=null,_.R=!0,Xr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,hs(this),mr(this),ye(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var _=null;if(u.g==m){sa(u),Co(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,po(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Yr(),Ne(T,new ti(T,_)),di(u)}else su(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&mr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function ou(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=p(u.bb,u),T=u.Ua;const U=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),or(T),U?jn(T.toString(),_):Ao(T.toString(),_)}else ye(2);u.I=0,u.l&&u.l.pa(m),lu(u),na(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=yo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,_){var T=_ instanceof fn?Ee(_):new fn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);T&&Ve(B,T),m&&(B.g=m),U&&ss(B,U),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),dr(u,T),T}function cu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ci({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}r=hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){wo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=is(u),u=_);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,We.Z.N.call(this)};function fu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(fu,ze);function du(){Tn.call(this),this.status=1}S(du,Tn);function Oi(u){this.g=u}S(Oi,hu),Oi.prototype.ra=function(){Ne(this.g,"a")},Oi.prototype.qa=function(u){Ne(this.g,new fu(u))},Oi.prototype.pa=function(u){Ne(this.g,new du)},Oi.prototype.oa=function(){Ne(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,y0=function(){return new fs},p0=function(){return Yr()},g0=he,Bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Sc=rr,co.COMPLETE="complete",m0=co,Fl.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",pe.prototype.listen=pe.prototype.J,dl=Fl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,d0=Kt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let to="12.9.0";function KS(r){to=r}const Lr=new om("@firebase/firestore");function ka(){return Lr.logLevel}function it(r,...t){if(Lr.logLevel<=Nt.DEBUG){const i=t.map(cm);Lr.debug(`Firestore (${to}): ${r}`,...i)}}function Zi(r,...t){if(Lr.logLevel<=Nt.ERROR){const i=t.map(cm);Lr.error(`Firestore (${to}): ${r}`,...i)}}function zr(r,...t){if(Lr.logLevel<=Nt.WARN){const i=t.map(cm);Lr.warn(`Firestore (${to}): ${r}`,...i)}}function cm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,_0(r,a,i)}function _0(r,t,i){let a=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Zi(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||_0(t,l,a)}function vt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class v0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class XS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class JS{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new v0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class ZS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $S{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new ZS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new V_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Dt(r,t){return r<t?-1:r>t?1:0}function qd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Nd(l)===Nd(c)?Dt(l,c):Nd(l)?1:-1}return Dt(r.length,t.length)}const eb=55296,nb=57343;function Nd(r){const t=r.charCodeAt(0);return t>=eb&&t<=nb}function Ka(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const k_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class te extends Ei{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ei{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return ib.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new Fe([k_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(te.fromString(t))}static fromName(t){return new ct(te.fromString(t).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new te(t.slice()))}}function E0(r,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function sb(r,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function U_(r){if(!ct.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L_(r){if(ct.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function T0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function _l(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fm(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Re(r,t){const i={typeString:r};return t&&(i.value=t),i}function Vl(r,t){if(!T0(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const z_=-62135596800,P_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*P_);return new ee(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<z_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ee(0,0))}static max(){return new yt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wl=-1;function rb(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new Ks(l,ct.empty(),t)}function ab(r){return new Ks(r.readTime,r.key,wl)}class Ks{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ks(yt.min(),ct.empty(),wl)}static max(){return new Ks(yt.max(),ct.empty(),wl)}}function ob(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}const lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function eo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==lb)throw r;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let v=0;v<c;v++){const p=v;i(t[p]).next((A=>{d[p]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function cb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function no(r){return r.name==="IndexedDbTransactionError"}class eh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eh.ce=-1;const dm=-1;function nh(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function hb(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const A0="";function fb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=j_(t)),t=db(r.get(i),t);return j_(t)}function db(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case A0:i+="";break;default:i+=c}}return i}function j_(r){return r+A0+""}function B_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Br(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function S0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(t){return new q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new xe(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class b0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new b0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=mb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const w0="server_timestamp",R0="__type__",C0="__previous_value__",I0="__local_write_time__";function mm(r){return(r?.mapValue?.fields||{})[R0]?.stringValue===w0}function ih(r){const t=r.mapValue.fields[C0];return mm(t)?ih(t):t}function Rl(r){const t=Ys(r.mapValue.fields[I0].timestampValue);return new ee(t.seconds,t.nanos)}class gb{constructor(t,i,a,l,c,d,y,v,p,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=A,this.apiKey=S}}const Uc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Uc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}function pb(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(r.options.projectId,t)}const N0="__type__",yb="__max__",vc={mapValue:{}},D0="__vector__",Lc="value";function Js(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?mm(r)?4:vb(r)?9007199254740991:_b(r)?10:11:mt(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=Js(r);if(i!==Js(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ys(l.timestampValue),y=Ys(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Xs(l.bytesValue).isEqual(Xs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),y=ge(c.doubleValue);return d===y?kc(d)===kc(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(B_(d)!==B_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ri(d[v],y[v])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function Il(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Ya(r,t){if(r===t)return 0;const i=Js(r),a=Js(t);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,t);case 3:return H_(r.timestampValue,t.timestampValue);case 4:return H_(Rl(r),Rl(t));case 5:return qd(r.stringValue,t.stringValue);case 6:return(function(c,d){const y=Xs(c),v=Xs(d);return y.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),v=d.split("/");for(let p=0;p<y.length&&p<v.length;p++){const A=Dt(y[p],v[p]);if(A!==0)return A}return Dt(y.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=Dt(ge(c.latitude),ge(d.latitude));return y!==0?y:Dt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return G_(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},v=d.fields||{},p=y[Lc]?.arrayValue,A=v[Lc]?.arrayValue,S=Dt(p?.values?.length||0,A?.values?.length||0);return S!==0?S:G_(p,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const y=c.fields||{},v=Object.keys(y),p=d.fields||{},A=Object.keys(p);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const M=qd(v[S],A[S]);if(M!==0)return M;const H=Ya(y[v[S]],p[A[S]]);if(H!==0)return H}return Dt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function H_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=Ys(r),a=Ys(t),l=Dt(i.seconds,a.seconds);return l!==0?l:Dt(i.nanos,a.nanos)}function G_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ya(i[l],a[l]);if(c)return c}return Dt(i.length,a.length)}function Xa(r){return Hd(r)}function Hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ys(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Xs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Hd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Hd(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function bc(r){switch(Js(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ih(r);return t?16+bc(t):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+bc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Br(a.fields,((c,d)=>{l+=c.length+bc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function Gd(r){return!!r&&"integerValue"in r}function gm(r){return!!r&&"arrayValue"in r}function F_(r){return!!r&&"nullValue"in r}function Q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wc(r){return!!r&&"mapValue"in r}function _b(r){return(r?.mapValue?.fields||{})[N0]?.stringValue===D0}function vl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Br(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=vl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vl(r.arrayValue.values[i]);return t}return{...r}}function vb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yb}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=vl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Br(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Vn(vl(this.value))}}function O0(r){const t=[];return Br(r.fields,((i,a)=>{const l=new Fe([i]);if(wc(a)){const c=O0(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Je{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Je(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new Je(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Je(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zc{constructor(t,i){this.position=t,this.inclusive=i}}function K_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}class Pc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Eb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class x0{}class Oe extends x0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Ab(t,i,a):i==="array-contains"?new wb(t,a):i==="in"?new Rb(t,a):i==="not-in"?new Cb(t,a):i==="array-contains-any"?new Ib(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Sb(t,a):new bb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Js(this.value)===Js(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends x0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return M0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M0(r){return r.op==="and"}function V0(r){return Tb(r)&&M0(r)}function Tb(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function Fd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Xa(r.value);if(V0(r))return r.filters.map((t=>Fd(t))).join(",");{const t=r.filters.map((i=>Fd(i))).join(",");return`${r.op}(${t})`}}function k0(r,t){return r instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(r,t):r instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&k0(d,l.filters[y])),!0):!1})(r,t):void mt(19439)}function U0(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(U0).join(" ,")+"}"})(r):"Filter"}class Ab extends Oe{constructor(t,i,a){super(t,i,a),this.key=ct.fromName(a.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Sb extends Oe{constructor(t,i){super(t,"in",i),this.keys=L0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class bb extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=L0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function L0(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class wb extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return gm(i)&&Il(i.arrayValue,this.value)}}class Rb extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class Cb extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Il(this.value.arrayValue,i)}}class Ib extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Il(this.value.arrayValue,a)))}}class Nb{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function X_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Nb(r,t,i,a,l,c,d)}function pm(r){const t=vt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Fd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),nh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Eb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Y_(r.startAt,t.startAt)&&Y_(r.endAt,t.endAt)}function Qd(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class sh{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Db(r,t,i,a,l,c,d,y){return new sh(r,t,i,a,l,c,d,y)}function _m(r){return new sh(r)}function J_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ob(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function xb(r){return r.collectionGroup!==null}function El(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new xe(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Pc(Fe.keyField(),a))}return t.Ie}function Ti(r){const t=vt(r);return t.Ee||(t.Ee=Mb(t,El(r))),t.Ee}function Mb(r,t){if(r.limitType==="F")return X_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pc(l.field,c)}));const i=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Kd(r,t,i){return new sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function rh(r,t){return ym(Ti(r),Ti(t))&&r.limitType===t.limitType}function z0(r){return`${pm(Ti(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>U0(l))).join(", ")}]`),nh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Xa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Xa(l))).join(",")),`Target(${a})`})(Ti(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ct.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of El(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,v){const p=K_(d,y,v);return d.inclusive?p<=0:p<0})(a.startAt,El(a),l)||a.endAt&&!(function(d,y,v){const p=K_(d,y,v);return d.inclusive?p>=0:p>0})(a.endAt,El(a),l))})(r,t)}function Vb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function P0(r){return(t,i)=>{let a=!1;for(const l of El(r)){const c=kb(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function kb(r,t,i){const a=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,y){const v=d.data.field(c),p=y.data.field(c);return v!==null&&p!==null?Ya(v,p):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:r.dir})}}class qr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Br(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const Ub=new le(ct.comparator);function $i(){return Ub}const j0=new le(ct.comparator);function ml(...r){let t=j0;for(const i of r)t=t.insert(i.key,i);return t}function B0(r){let t=j0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function xr(){return Tl()}function q0(){return Tl()}function Tl(){return new qr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Lb=new le(ct.comparator),zb=new xe(ct.comparator);function Ot(...r){let t=zb;for(const i of r)t=t.add(i);return t}const Pb=new xe(Dt);function jb(){return Pb}function vm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function H0(r){return{integerValue:""+r}}function Bb(r,t){return hb(t)?H0(t):vm(r,t)}class oh{constructor(){this._=void 0}}function qb(r,t,i){return r instanceof jc?(function(l,c){const d={fields:{[R0]:{stringValue:w0},[I0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&mm(c)&&(c=ih(c)),c&&(d.fields[C0]=c),{mapValue:d}})(i,t):r instanceof Nl?F0(r,t):r instanceof Dl?Q0(r,t):(function(l,c){const d=G0(l,c),y=Z_(d)+Z_(l.Ae);return Gd(d)&&Gd(l.Ae)?H0(y):vm(l.serializer,y)})(r,t)}function Hb(r,t,i){return r instanceof Nl?F0(r,t):r instanceof Dl?Q0(r,t):i}function G0(r,t){return r instanceof Bc?(function(a){return Gd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class jc extends oh{}class Nl extends oh{constructor(t){super(),this.elements=t}}function F0(r,t){const i=K0(t);for(const a of r.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Dl extends oh{constructor(t){super(),this.elements=t}}function Q0(r,t){let i=K0(t);for(const a of r.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Bc extends oh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Z_(r){return ge(r.integerValue||r.doubleValue)}function K0(r){return gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Gb(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Nl&&l instanceof Nl||a instanceof Dl&&l instanceof Dl?Ka(a.elements,l.elements,Ri):a instanceof Bc&&l instanceof Bc?Ri(a.Ae,l.Ae):a instanceof jc&&l instanceof jc})(r.transform,t.transform)}class Fb{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function Y0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new J0(r.key,Xi.none()):new kl(r.key,r.data,Xi.none());{const i=r.data,a=Vn.empty();let l=new xe(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Hr(r.key,a,new Xn(l.toArray()),Xi.none())}}function Qb(r,t,i){r instanceof kl?(function(l,c,d){const y=l.value.clone(),v=W_(l.fieldTransforms,c,d.transformResults);y.setAll(v),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof Hr?(function(l,c,d){if(!Rc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=W_(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(X0(l)),v.setAll(y),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(r,t,i,a){return r instanceof kl?(function(c,d,y,v){if(!Rc(c.precondition,d))return y;const p=c.value.clone(),A=tv(c.fieldTransforms,v,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,t,i,a):r instanceof Hr?(function(c,d,y,v){if(!Rc(c.precondition,d))return y;const p=tv(c.fieldTransforms,v,d),A=d.data;return A.setAll(X0(c)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,y){return Rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function Kb(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=G0(a.transform,l||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function $_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ka(a,l,((c,d)=>Gb(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kl extends lh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends lh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function X0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function W_(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,Hb(d,y,i[l]))}return a}function tv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,qb(c,d,t))}return a}class J0 extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yb extends lh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xb{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Qb(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=q0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const v=Y0(d,y);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,((i,a)=>$_(i,a)))&&Ka(this.baseMutations,t.baseMutations,((i,a)=>$_(i,a)))}}class Em{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Lb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Em(t,i,a,l)}}class Jb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zb{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function $b(r){switch(r){case J.OK:return mt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function Z0(r){if(r===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(r){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return mt(39323,{code:r})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function Wb(){return new TextEncoder}const tw=new Gs([4294967295,4294967295],0);function ev(r){const t=Wb().encode(r),i=new f0;return i.update(t),new Uint8Array(i.digest())}function nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,a],0),new Gs([l,c],0)]}class Tm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gs.fromNumber(a)));return l.compare(tw)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=ev(t),[a,l]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Tm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=ev(t),[a,l]=nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ul.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new uh(yt.min(),l,new le(Dt),$i(),Ot())}}class Ul{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ul(a,i,Ot(),Ot(),Ot())}}class Cc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class $0{constructor(t,i){this.targetId=t,this.Ce=i}}class W0{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new Ul(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=sv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ew{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.He=Ec(),this.Je=Ec(),this.Ze=new le(Dt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Qd(c))if(a===0){const d=new ct(c.path);this.et(i,d,Je.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),v=y?this.ct(y,t,d):1;if(v!==0){this.it(i);const p=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Xs(a).toUint8Array()}catch(v){if(v instanceof b0)return zr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Tm(d,l,c)}catch(v){return zr(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&Qd(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ot();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((v=>{const p=this.ot(v);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new uh(t,i,this.Ze,this.je,a);return this.je=$i(),this.He=Ec(),this.Je=Ec(),this.Ze=new le(Dt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new iv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new xe(Dt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new xe(Dt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new le(ct.comparator)}function sv(){return new le(ct.comparator)}const nw={asc:"ASCENDING",desc:"DESCENDING"},iw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sw={and:"AND",or:"OR"};class rw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Yd(r,t){return r.useProto3Json||nh(t)?t:{value:t}}function qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aw(r,t){return qc(r,t.toTimestamp())}function Ai(r){return qt(!!r,49232),yt.fromTimestamp((function(i){const a=Ys(i);return new ee(a.seconds,a.nanos)})(r))}function Am(r,t){return Xd(r,t).canonicalString()}function Xd(r,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function eE(r){const t=te.fromString(r);return qt(aE(t),10190,{key:t.toString()}),t}function Jd(r,t){return Am(r.databaseId,t.path)}function Dd(r,t){const i=eE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(iE(i))}function nE(r,t){return Am(r.databaseId,t)}function ow(r){const t=eE(r);return t.length===4?te.emptyPath():iE(t)}function Zd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rv(r,t,i){return{name:Jd(r,t),fields:i.value.mapValue.fields}}function lw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:mt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(p,A){return p.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(p){const A=p.code===void 0?J.UNKNOWN:Z0(p.code);return new ot(A,p.message||"")})(d);i=new W0(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Dd(r,a.document.name),c=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):yt.min(),y=new Vn({mapValue:{fields:a.document.fields}}),v=Je.newFoundDocument(l,c,d,y),p=a.targetIds||[],A=a.removedTargetIds||[];i=new Cc(p,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Dd(r,a.document),c=a.readTime?Ai(a.readTime):yt.min(),d=Je.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Cc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Dd(r,a.document),c=a.removedTargetIds||[];i=new Cc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Zb(l,c),y=a.targetId;i=new $0(y,d)}}return i}function uw(r,t){let i;if(t instanceof kl)i={update:rv(r,t.key,t.value)};else if(t instanceof J0)i={delete:Jd(r,t.key)};else if(t instanceof Hr)i={update:rv(r,t.key,t.data),updateMask:_w(t.fieldMask)};else{if(!(t instanceof Yb))return mt(16599,{dt:t.type});i={verify:Jd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof jc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Dl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:aw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function cw(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(yt.min())&&(d=Ai(c)),new Fb(d,l.transformResults||[])})(i,t)))):[]}function hw(r,t){return{documents:[nE(r,t.path)]}}function fw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nE(r,l);const c=(function(p){if(p.length!==0)return rE(Ci.create(p,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((A=>(function(M){return{field:La(M.field),direction:gw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Yd(r,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:l}}function dw(r){let t=ow(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=sE(S);return M instanceof Ci&&V0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function($){return new Pc(za($.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let M;return M=typeof S=="object"?S.value:S,nh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(S){const M=!!S.before,H=S.values||[];return new zc(H,M)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const M=!S.before,H=S.values||[];return new zc(H,M)})(i.endAt)),Db(t,l,d,c,y,"F",v,p)}function mw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function sE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=za(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>sE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function gw(r){return nw[r]}function pw(r){return iw[r]}function yw(r){return sw[r]}function La(r){return{fieldPath:r.canonicalString()}}function za(r){return Fe.fromServerFormat(r.fieldPath)}function rE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:pw(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const a=i.getFilters().map((l=>rE(l)));return a.length===1?a[0]:{compositeFilter:{op:yw(i.op),filters:a}}})(r):mt(54877,{filter:r})}function _w(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function aE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function oE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class js{constructor(t,i,a,l,c=yt.min(),d=yt.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vw{constructor(t){this.yt=t}}function Ew(r){const t=dw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(t,t.limit,"L"):t}class Tw{constructor(){this.Sn=new Aw}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ks.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Aw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new xe(te.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new xe(te.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lE=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(lE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ja{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ja(0)}static ar(){return new Ja(-1)}}const ov="LruGarbageCollector",Sw=1048576;function lv([r,t],[i,a]){const l=Dt(r,i);return l===0?Dt(t,a):l}class bw{constructor(t){this.Pr=t,this.buffer=new xe(lv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();lv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ww{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(ov,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){no(i)?it(ov,"Ignoring IndexedDB error during garbage collection: ",i):await eo(i)}await this.Ar(3e5)}))}}class Rw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(eh.ce);const a=new bw(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(av)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,y,v,p;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(p=Date.now(),ka()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(v-y)+`ms
	Removed ${S} documents in `+(p-v)+`ms
Total Duration: ${p-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Cw(r,t){return new Rw(r,t)}class Iw{constructor(){this.changes=new qr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Dw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Al(a.mutation,l,Xn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=xr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=ml();return c.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=xr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=$i();const d=Tl(),y=(function(){return Tl()})();return i.forEach(((v,p)=>{const A=a.get(p.key);l.has(p.key)&&(A===void 0||A.mutation instanceof Hr)?c=c.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),Al(A.mutation,p,A.mutation.getFieldMask(),ee.now())):d.set(p.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((p,A)=>d.set(p,A))),i.forEach(((p,A)=>y.set(p,new Nw(A,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=Tl();let l=new le(((d,y)=>d-y)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const p=i.get(v);if(p===null)return;let A=a.get(v)||Xn.empty();A=y.applyToLocalView(p,A),a.set(v,A);const S=(l.get(y.batchId)||Ot()).add(v);l=l.insert(y.batchId,S)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),p=v.key,A=v.value,S=q0();A.forEach((M=>{if(!c.has(M)){const H=Y0(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return Ob(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(xr());let y=wl,v=c;return d.next((p=>X.forEach(p,((A,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(t,p,c))).next((()=>this.computeViews(t,v,p,Ot()))).next((A=>({batchId:y,changes:B0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((a=>{let l=ml();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=ml();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(v=>{const p=(function(S,M){return new sh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let y=ml();return d.forEach(((v,p)=>{const A=c.get(v);A!==void 0&&Al(A.mutation,p,Xn.empty(),ee.now()),ah(i,p)&&(y=y.insert(v,p))})),y}))}}class Ow{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Ew(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}class xw{constructor(){this.overlays=new le(ct.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=xr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=xr(),c=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,p=v.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((p,A)=>p-A));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let A=c.get(p.largestBatchId);A===null&&(A=xr(),c=c.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const y=xr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,A)=>y.set(p,A))),!(y.size()>=l)););return X.resolve(y)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Jb(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Mw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Sm{constructor(){this.kr=new xe(Ue.Kr),this.qr=new xe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ct(new te([])),a=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new te([])),a=new Ue(i,t),l=new Ue(i,t+1);let c=Ot();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Dt(t.Hr,i.Hr)}static Ur(t,i){return Dt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class Vw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Ue.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Xb(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new Ue(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?dm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new xe(Dt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ct.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new ct(c),0);let y=new xe(Dt);return this.Jr.forEachWhile((v=>{const p=v.key.path;return!!a.isPrefixOf(p)&&(p.length===l&&(y=y.add(v.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class kw{constructor(t){this.ti=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=$i();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=$i();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:p,value:{document:A}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||ob(ab(A),a)<=0||(l.has(A.key)||ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Uw(this)}getSize(t){return X.resolve(this.size)}}class Uw extends Iw{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Lw{constructor(t){this.persistence=t,this.ri=new qr((i=>pm(i)),ym),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Sm,this.targetCount=0,this.oi=Ja._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class uE{constructor(t,i){this._i={},this.overlays={},this.ai=new eh(0),this.ui=!1,this.ui=!0,this.ci=new Mw,this.referenceDelegate=t(this),this.li=new Lw(this),this.indexManager=new Tw,this.remoteDocumentCache=(function(l){return new kw(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new vw(i),this.Pi=new Ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Vw(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new zw(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class zw extends ub{constructor(t){super(),this.currentSequenceNumber=t}}class bm{constructor(t){this.persistence=t,this.Ri=new Sm,this.Ai=null}static Vi(t){return new bm(t)}get di(){if(this.Ai)return this.Ai;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ct.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Hc{constructor(t,i){this.persistence=t,this.fi=new qr((a=>fb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Cw(this,i)}static Vi(t,i){return new Hc(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((y=>{y||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=bc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new wm(t,i.fromCache,a,l)}}class Pw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return NA()?8:cb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Pw;return this.ys(t,i,d).next((y=>{if(c.result=y,this.As)return this.ws(t,i,d,y.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(ka()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ka()<=Nt.DEBUG&&it("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(ka()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}gs(t,i){if(J_(i))return X.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kd(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((v=>{const p=this.bs(i,y);return this.Ss(i,p,d,v.readTime)?this.gs(t,Kd(i,null,"F")):this.Ds(t,p,i,v)}))))})))))}ps(t,i,a,l){return J_(i)||l.isEqual(yt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(ka()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.Ds(t,d,i,rb(l,wl)).next((y=>y)))}))}bs(t,i){let a=new xe(P0(t));return i.forEach(((l,c)=>{ah(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return ka()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.fs.getDocumentsMatchingQuery(t,i,Ks.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Rm="LocalStore",Bw=3e8;class qw{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Dt),this.Fs=new qr((c=>pm(c)),ym),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Hw(r,t,i,a){return new qw(r,t,i,a)}async function cE(r,t){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let v=Ot();for(const p of l){d.push(p.batchId);for(const A of p.mutations)v=v.add(A.key)}for(const p of c){y.push(p.batchId);for(const A of p.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function Gw(r,t){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,p,A){const S=p.batch,M=S.keys();let H=X.resolve();return M.forEach(($=>{H=H.next((()=>A.getEntry(v,$))).next((W=>{const nt=p.docVersions.get($);qt(nt!==null,48541),W.version.compareTo(nt)<0&&(S.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),A.addEntry(W)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=Ot();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(v=v.add(y.batch.mutations[p].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hE(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Fw(r,t){const i=vt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;y.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(S,H),(function(W,nt,ht){return W.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Bw?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,H,A)&&y.push(i.li.updateTargetData(c,H))}));let v=$i(),p=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(Qw(c,d,t.documentUpdates).next((A=>{v=A.Bs,p=A.Ls}))),!a.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,p))).next((()=>v))})).then((c=>(i.vs=l,c)))}function Qw(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=$i();return i.forEach(((y,v)=>{const p=c.get(y);v.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(y,v.readTime),d=d.insert(y,v)):!p.isValidDocument()||v.version.compareTo(p.version)>0||v.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(v),d=d.insert(y,v)):it(Rm,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function Kw(r,t){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=dm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Yw(r,t){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new js(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function $d(r,t,i){const a=vt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!no(d))throw d;it(Rm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function uv(r,t,i){const a=vt(r);let l=yt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,p,A){const S=vt(v),M=S.Fs.get(A);return M!==void 0?X.resolve(S.vs.get(M)):S.li.getTargetData(p,A)})(a,d,Ti(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((y=>(Xw(a,Vb(t),y),{documents:y,ks:c})))))}function Xw(r,t,i){let a=r.Ms.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class cv{constructor(){this.activeTargetIds=jb()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jw{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Zw{Mo(t){}shutdown(){}}const hv="ConnectivityMonitor";class fv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(hv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(hv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tc=null;function Wd(){return Tc===null?Tc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tc++,"0x"+Tc.toString(16)}const Od="RestConnection",$w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ww{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Uc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Wd(),y=this.Qo(t,i.toUriEncodedString());it(Od,`Sending RPC '${t}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:p}=new URL(y),A=$a(p);return this.zo(t,y,v,a,A).then((S=>(it(Od,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw zr(Od,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+to})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=$w[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class t2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",fl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends Ww{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=p0();fl(t,g0.STAT_EVENT,(i=>{i.stat===Bd.PROXY?it(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Bd.NOPROXY&&it(Ye,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,a,l,c){const d=Wd();return new Promise(((y,v)=>{const p=new d0;p.setWithCredentials(!0),p.listenOnce(m0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sc.NO_ERROR:const S=p.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case Sc.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),v(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const M=p.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,M,"response text:",p.getResponseText()),M>0){let H=p.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const W=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})($.status);v(new ot(W,$.message))}else v(new ot(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new ot(J.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),p.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=Wd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const p=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${p}`,y);const A=d.createWebChannel(p,y);this.I_(A);let S=!1,M=!1;const H=new t2({Ho:$=>{M?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(S||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,$),A.send($))},Jo:()=>A.close()});return fl(A,dl.EventType.OPEN,(()=>{M||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),fl(A,dl.EventType.CLOSE,(()=>{M||(M=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(A))})),fl(A,dl.EventType.ERROR,($=>{M||(M=!0,zr(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),H.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),fl(A,dl.EventType.MESSAGE,($=>{if(!M){const W=$.data[0];qt(!!W,16349);const nt=W,ht=nt?.error||nt[0]?.error;if(ht){it(Ye,`RPC '${t}' stream ${l} received error:`,ht);const Et=ht.status;let dt=(function(Mt){const I=we[Mt];if(I!==void 0)return Z0(I)})(Et),xt=ht.message;Et==="NOT_FOUND"&&xt.includes("database")&&xt.includes("does not exist")&&xt.includes(this.databaseId.database)&&zr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),dt===void 0&&(dt=J.INTERNAL,xt="Unknown error status: "+Et+" with message "+ht.message),M=!0,H.o_(new ot(dt,xt)),A.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,W),H.__(W)}})),ja.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y0()}}function e2(r){return new ja(r)}function xd(){return typeof document<"u"?document:null}function ch(r){return new rw(r,!0)}ja.c_=!1;class fE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const dv="PersistentStream";class dE{constructor(t,i,a,l,c,d,y,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(dv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends dE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=lw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ai(d.readTime):yt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=Zd(this.serializer),i.addTarget=(function(c,d){let y;const v=d.target;if(y=Qd(v)?{documents:hw(c,v)}:{query:fw(c,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=tE(c,d.resumeToken);const p=Yd(c,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=qc(c,d.snapshotVersion.toTimestamp());const p=Yd(c,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,t);const a=mw(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=Zd(this.serializer),i.removeTarget=t,this.K_(i)}}class i2 extends dE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=cw(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Zd(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>uw(this.serializer,a)))};this.K_(i)}}class s2{}class r2 extends s2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Xd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,Xd(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a2(r,t,i,a){return new r2(r,t,i,a)}class o2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Pr="RemoteStore";class l2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Gr(this)&&(it(Pr,"Restarting streams for network reachability change."),await(async function(v){const p=vt(v);p.Ea.add(4),await Ll(p),p.Va.set("Unknown"),p.Ea.delete(4),await hh(p)})(this))}))})),this.Va=new o2(a,l)}}async function hh(r){if(Gr(r))for(const t of r.Ra)await t(!0)}async function Ll(r){for(const t of r.Ra)await t(!1)}function mE(r,t){const i=vt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Dm(i)?Nm(i):io(i).O_()&&Im(i,t))}function Cm(r,t){const i=vt(r),a=io(i);i.Ia.delete(t),a.O_()&&gE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Gr(i)&&i.Va.set("Unknown"))}function Im(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}io(r).Z_(t)}function gE(r,t){r.da.$e(t),io(r).X_(t)}function Nm(r){r.da=new ew({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),io(r).start(),r.Va.ua()}function Dm(r){return Gr(r)&&!io(r).x_()&&r.Ia.size>0}function Gr(r){return vt(r).Ea.size===0}function pE(r){r.da=void 0}async function u2(r){r.Va.set("Online")}async function c2(r){r.Ia.forEach(((t,i)=>{Im(r,t)}))}async function h2(r,t){pE(r),Dm(r)?(r.Va.ha(t),Nm(r)):r.Va.set("Unknown")}async function f2(r,t,i){if(r.Va.set("Online"),t instanceof W0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(r,t)}catch(a){it(Pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Gc(r,a)}else if(t instanceof Cc?r.da.Xe(t):t instanceof $0?r.da.st(t):r.da.tt(t),!i.isEqual(yt.min()))try{const a=await hE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((v,p)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(p);A&&c.Ia.set(p,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,p)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),gE(c,v);const S=new js(A.target,v,p,A.sequenceNumber);Im(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){it(Pr,"Failed to raise snapshot:",a),await Gc(r,a)}}async function Gc(r,t,i){if(!no(t))throw t;r.Ea.add(1),await Ll(r),r.Va.set("Offline"),i||(i=()=>hE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Pr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await hh(r)}))}function yE(r,t){return t().catch((i=>Gc(r,i,t)))}async function fh(r){const t=vt(r),i=Zs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dm;for(;d2(t);)try{const l=await Kw(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,m2(t,l)}catch(l){await Gc(t,l)}_E(t)&&vE(t)}function d2(r){return Gr(r)&&r.Ta.length<10}function m2(r,t){r.Ta.push(t);const i=Zs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function _E(r){return Gr(r)&&!Zs(r).x_()&&r.Ta.length>0}function vE(r){Zs(r).start()}async function g2(r){Zs(r).ra()}async function p2(r){const t=Zs(r);for(const i of r.Ta)t.ea(i.mutations)}async function y2(r,t,i){const a=r.Ta.shift(),l=Em.from(a,t,i);await yE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await fh(r)}async function _2(r,t){t&&Zs(r).Y_&&await(async function(a,l){if((function(d){return $b(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();Zs(a).B_(),await yE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await fh(a)}})(r,t),_E(r)&&vE(r)}async function mv(r,t){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(Pr,"RemoteStore received new credentials");const a=Gr(i);i.Ea.add(3),await Ll(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await hh(i)}async function v2(r,t){const i=vt(r);t?(i.Ea.delete(2),await hh(i)):t||(i.Ea.add(2),await Ll(i),i.Va.set("Unknown"))}function io(r){return r.ma||(r.ma=(function(i,a,l){const c=vt(i);return c.sa(),new n2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:u2.bind(null,r),Yo:c2.bind(null,r),t_:h2.bind(null,r),J_:f2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Dm(r)?Nm(r):r.Va.set("Unknown")):(await r.ma.stop(),pE(r))}))),r.ma}function Zs(r){return r.fa||(r.fa=(function(i,a,l){const c=vt(i);return c.sa(),new i2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g2.bind(null,r),t_:_2.bind(null,r),ta:p2.bind(null,r),na:y2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await fh(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Pr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Om{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new Om(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(r,t){if(Zi("AsyncQueue",`${t}: ${r}`),no(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=ml(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ba;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class gv{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Za{constructor(t,i,a,l,c,d,y,v,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Za(t,i,Ba.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class E2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class T2{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),c=l.queries;l.queries=pv(),c.forEach(((d,y)=>{for(const v of y.ba)v.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function pv(){return new qr((r=>z0(r)),rh)}async function A2(r,t){const i=vt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new E2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=xm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Mm(i)}async function S2(r,t){const i=vt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function b2(r,t){const i=vt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&Mm(i)}function w2(r,t,i){const a=vt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function Mm(r){r.Ca.forEach((t=>{t.next()}))}var tm,yv;(yv=tm||(tm={})).Ma="default",yv.Cache="cache";class R2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tm.Cache}}class EE{constructor(t){this.key=t}}class TE{constructor(t){this.key=t}}class C2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=P0(t),this.tu=new Ba(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),H=ah(this.query,S)?S:null,$=!!M&&this.mutatedKeys.has(M.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let nt=!1;M&&H?M.data.isEqual(H.data)?$!==W&&(a.track({type:3,doc:H}),nt=!0):this.su(M,H)||(a.track({type:2,doc:H}),nt=!0,(v&&this.eu(H,v)>0||p&&this.eu(H,p)<0)&&(y=!0)):!M&&H?(a.track({type:0,doc:H}),nt=!0):M&&!H&&(a.track({type:1,doc:M}),nt=!0,(v||p)&&(y=!0)),nt&&(H?(d=d.add(H),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(H,$){const W=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:nt})}};return W(H)-W($)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,p=v!==this.Xa;return this.Xa=v,d.length!==0||p?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,v===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new TE(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new EE(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vm="SyncEngine";class I2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class N2{constructor(t){this.key=t,this.hu=!1}}class D2{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qr((y=>z0(y)),rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ct.comparator),this.Au=new Map,this.Vu=new Sm,this.du={},this.mu=new Map,this.fu=Ja.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O2(r,t,i=!0){const a=CE(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AE(a,t,i,!0),l}async function x2(r,t){const i=CE(r);await AE(i,t,!0,!1)}async function AE(r,t,i,a){const l=await Yw(r.localStore,Ti(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await M2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mE(r.remoteStore,l),y}async function M2(r,t,i,a,l){r.pu=(S,M,H)=>(async function(W,nt,ht,Et){let dt=nt.view.ru(ht);dt.Ss&&(dt=await uv(W.localStore,nt.query,!1).then((({documents:I})=>nt.view.ru(I,dt))));const xt=Et&&Et.targetChanges.get(nt.targetId),ne=Et&&Et.targetMismatches.get(nt.targetId)!=null,Mt=nt.view.applyChanges(dt,W.isPrimaryClient,xt,ne);return vv(W,nt.targetId,Mt.au),Mt.snapshot})(r,S,M,H);const c=await uv(r.localStore,t,!0),d=new C2(t,c.ks),y=d.ru(c.documents),v=Ul.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),p=d.applyChanges(y,r.isPrimaryClient,v);vv(r,i,p.au);const A=new I2(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),p.snapshot}async function V2(r,t,i){const a=vt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Cm(a.remoteStore,l.targetId),em(a,l.targetId)})).catch(eo)):(em(a,l.targetId),await $d(a.localStore,l.targetId,!0))}async function k2(r,t){const i=vt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Cm(i.remoteStore,a.targetId))}async function U2(r,t,i){const a=H2(r);try{const l=await(function(d,y){const v=vt(d),p=ee.now(),A=y.reduce(((H,$)=>H.add($.key)),Ot());let S,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let $=$i(),W=Ot();return v.xs.getEntries(H,A).next((nt=>{$=nt,$.forEach(((ht,Et)=>{Et.isValidDocument()||(W=W.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,$))).next((nt=>{S=nt;const ht=[];for(const Et of y){const dt=Kb(Et,S.get(Et.key).overlayedDocument);dt!=null&&ht.push(new Hr(Et.key,dt,O0(dt.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,p,ht,y)})).next((nt=>{M=nt;const ht=nt.applyToLocalDocumentSet(S,W);return v.documentOverlayCache.saveOverlays(H,nt.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:B0(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,v){let p=d.du[d.currentUser.toKey()];p||(p=new le(Dt)),p=p.insert(y,v),d.du[d.currentUser.toKey()]=p})(a,l.batchId,i),await zl(a,l.changes),await fh(a.remoteStore)}catch(l){const c=xm(l,"Failed to persist write");i.reject(c)}}async function SE(r,t){const i=vt(r);try{const a=await Fw(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await zl(i,a,t)}catch(a){await eo(a)}}function _v(r,t,i){const a=vt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let p=!1;v.queries.forEach(((A,S)=>{for(const M of S.ba)M.va(y)&&(p=!0)})),p&&Mm(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function L2(r,t,i){const a=vt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,Je.newNoDocument(c,yt.min()));const y=Ot().add(c),v=new uh(yt.min(),new Map,new le(Dt),d,y);await SE(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),km(a)}else await $d(a.localStore,t,!1).then((()=>em(a,t,i))).catch(eo)}async function z2(r,t){const i=vt(r),a=t.batch.batchId;try{const l=await Gw(i.localStore,t);wE(i,a,null),bE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await zl(i,l)}catch(l){await eo(l)}}async function P2(r,t,i){const a=vt(r);try{const l=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let A;return v.mutationQueue.lookupMutationBatch(p,y).next((S=>(qt(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(p,S)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A))).next((()=>v.localDocuments.getDocuments(p,A)))}))})(a.localStore,t);wE(a,t,i),bE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await zl(a,l)}catch(l){await eo(l)}}function bE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function wE(r,t,i){const a=vt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||RE(r,a)}))}function RE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Cm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),km(r))}function vv(r,t,i){for(const a of i)a instanceof EE?(r.Vu.addReference(a.key,t),j2(r,a)):a instanceof TE?(it(Vm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||RE(r,a.key)):mt(19791,{wu:a})}function j2(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(it(Vm,"New document in limbo: "+i),r.Eu.add(a),km(r))}function km(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(te.fromString(t)),a=r.fu.next();r.Au.set(a,new N2(i)),r.Ru=r.Ru.insert(i,a),mE(r.remoteStore,new js(Ti(_m(i.path)),a,"TargetPurposeLimboResolution",eh.ce))}}async function zl(r,t,i){const a=vt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,t,i).then((p=>{if((p||i)&&a.isPrimaryClient){const A=p?!p.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(p){l.push(p);const A=wm.Es(v.targetId,p);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,p){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(p,(M=>X.forEach(M.Ts,(H=>A.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.Is,(H=>A.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!no(S))throw S;it(Rm,"Failed to update sequence numbers: "+S)}for(const S of p){const M=S.targetId;if(!S.fromCache){const H=A.vs.get(M),$=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion($);A.vs=A.vs.insert(M,W)}}})(a.localStore,c))}async function B2(r,t){const i=vt(r);if(!i.currentUser.isEqual(t)){it(Vm,"User change. New user:",t.toKey());const a=await cE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((v=>{v.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zl(i,a.Ns)}}function q2(r,t){const i=vt(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function CE(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=q2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=L2.bind(null,t),t.Pu.J_=b2.bind(null,t.eventManager),t.Pu.yu=w2.bind(null,t.eventManager),t}function H2(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P2.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Hw(this.persistence,new jw,t.initialUser,this.serializer)}Cu(t){return new uE(bm.Vi,this.serializer)}Du(t){return new Jw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class G2 extends Fc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Hc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ww(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new uE((a=>Hc.Vi(a,i)),this.serializer)}}class nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new T2})()}createDatastore(t){const i=ch(t.databaseInfo.databaseId),a=e2(t.databaseInfo);return a2(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new l2(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return fv.v()?new fv:new Zw})())}createSyncEngine(t,i){return(function(l,c,d,y,v,p,A){const S=new D2(l,c,d,y,v,p);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);it(Pr,"RemoteStore shutting down."),a.Ea.add(5),await Ll(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};class F2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class Q2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Md(r,t){r.asyncQueue.verifyOperationInProgress(),it($s,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Ev(r,t){r.asyncQueue.verifyOperationInProgress();const i=await K2(r);it($s,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>mv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>mv(t.remoteStore,l))),r._onlineComponents=t}async function K2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it($s,"Using user provided OfflineComponentProvider");try{await Md(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;zr("Error using user provided cache. Falling back to memory cache: "+i),await Md(r,new Fc)}}else it($s,"Using default OfflineComponentProvider"),await Md(r,new G2(void 0));return r._offlineComponents}async function IE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it($s,"Using user provided OnlineComponentProvider"),await Ev(r,r._uninitializedComponentsProvider._online)):(it($s,"Using default OnlineComponentProvider"),await Ev(r,new nm))),r._onlineComponents}function Y2(r){return IE(r).then((t=>t.syncEngine))}async function Tv(r){const t=await IE(r),i=t.eventManager;return i.onListen=O2.bind(null,t.syncEngine),i.onUnlisten=V2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=x2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=k2.bind(null,t.syncEngine),i}function X2(r,t,i,a){const l=new F2(a),c=new R2(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>A2(await Tv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>S2(await Tv(r),c)))}}function J2(r,t){const i=new Mr;return r.asyncQueue.enqueueAndForget((async()=>U2(await Y2(r),t,i))),i.promise}function NE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Z2="ComponentProvider",Av=new Map;function $2(r,t,i,a,l){return new gb(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,NE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const DE="firestore.googleapis.com",Sv=!0;class bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DE,this.ssl=Sv}else this.host=t.host,this.ssl=t.ssl??Sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Sw)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new YS;switch(a.type){case"firstParty":return new $S(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Av.get(i);a&&(it(Z2,"Removing Datastore"),Av.delete(i),a.terminate())})(this),Promise.resolve()}}function W2(r,t,i,a={}){r=_l(r,dh);const l=$a(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;l&&(s0(`https://${y}`),r0("Firestore",!0)),c.host!==DE&&c.host!==y&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:y,ssl:l,emulatorOptions:a};if(!kr(v,d)&&(r._setSettings(v),a.mockUserToken)){let p,A;if(typeof a.mockUserToken=="string")p=a.mockUserToken,A=Xe.MOCK_USER;else{p=EA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}r._authCredentials=new XS(new v0(p,A))}}class mh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new mh(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Vl(i,Le._jsonSchema))return new Le(t,a||null,new ct(te.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Re("string",Le._jsonSchemaVersion),referencePath:Re("string")};class Fs extends mh{constructor(t,i,a){super(t,i,_m(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ct(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function wv(r,t,...i){if(r=En(r),E0("collection","path",t),r instanceof dh){const a=te.fromString(t,...i);return L_(a),new Fs(r,null,a)}{if(!(r instanceof Le||r instanceof Fs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return L_(a),new Fs(r.firestore,null,a)}}function tR(r,t,...i){if(r=En(r),arguments.length===1&&(t=hm.newId()),E0("doc","path",t),r instanceof dh){const a=te.fromString(t,...i);return U_(a),new Le(r,null,new ct(a))}{if(!(r instanceof Le||r instanceof Fs))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return U_(a),new Le(r.firestore,r instanceof Fs?r.converter:null,new ct(a))}}const Rv="AsyncQueue";class Cv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&it(Rv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!no(t))throw t;it(Rv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",Iv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Om.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Iv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qc extends dh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Cv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Cv(t),this._firestoreClient=void 0,await t}}}function eR(r,t){const i=typeof r=="object"?r:u0(),a=typeof r=="string"?r:Uc,l=um(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=_A("firestore");c&&W2(l,...c)}return l}function OE(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nR(r),r._firestoreClient}function nR(r){const t=r._freezeSettings(),i=$2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Q2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Re("string",kn._jsonSchemaVersion),bytes:Re("string")};class xE{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ME{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Vl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Re("string",Zn._jsonSchemaVersion),vectorValues:Re("object")};const iR=/^__.*__$/;class sR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function VE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{dataSource:r})}}class Um{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Kc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VE(this.dataSource)&&iR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class rR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ch(t)}createContext(t,i,a,l=!1){return new Um({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aR(r){const t=r._freezeSettings(),i=ch(r._databaseId);return new rR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function oR(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);zE("Data must be an object, but it was:",d,a);const y=UE(a,d);let v,p;if(c.merge)v=new Xn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Lm(t,S,i);if(!d.contains(M))throw new ot(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);cR(A,M)||A.push(M)}v=new Xn(A),p=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,p=d.fieldTransforms;return new sR(new Vn(y),v,p)}function kE(r,t){if(LE(r=En(r)))return zE("Unsupported field value:",t,r),UE(r,t);if(r instanceof ME)return(function(a,l){if(!VE(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let v=kE(y,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=En(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Bb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ee.fromDate(a);return{timestampValue:qc(l.serializer,c)}}if(a instanceof ee){const c=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qc(l.serializer,c)}}if(a instanceof Si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof kn)return{bytesValue:tE(l.serializer,a._byteString)};if(a instanceof Le){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Am(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,y){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[N0]:{stringValue:D0},[Lc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return vm(y.serializer,A)}))}}}}}})(a,l);if(oE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${fm(a)}`)})(r,t)}function UE(r,t){const i={};return S0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Br(r,((a,l)=>{const c=kE(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function LE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof Si||r instanceof kn||r instanceof Le||r instanceof ME||r instanceof Zn||oE(r))}function zE(r,t,i){if(!LE(i)||!T0(i)){const a=fm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Lm(r,t,i){if((t=En(t))instanceof xE)return t._internalPath;if(typeof t=="string")return uR(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const lR=new RegExp("[~\\*/\\[\\]]");function uR(r,t,i){if(t.search(lR)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xE(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Kc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ot(J.INVALID_ARGUMENT,y+r+v)}function cR(r,t){return r.some((i=>i.isEqual(t)))}class hR{convertValue(t,i="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Br(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Lc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Si(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ih(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const i=Ys(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);qt(aE(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),c=new ct(a.popFirst(5));return l.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class PE extends hR{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}const Nv="@firebase/firestore",Dv="4.11.0";function Ov(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class jE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class fR extends jE{data(){return super.data()}}function dR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function mR(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class pl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends jE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Lm("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:Re("string",Vr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ic extends Vr{data(t={}){return super.data(t)}}class qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Ic(this._firestore,this._userDataWriter,a.key,a,new pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const v=new Ic(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const v=new Ic(l._firestore,l._userDataWriter,y.doc.key,y.doc,new pl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,A=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:gR(y.type),doc:v,oldIndex:p,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function gR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:Re("string",qa._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function pR(r,t){const i=_l(r.firestore,Qc),a=tR(r),l=mR(r.converter,t),c=aR(r.firestore);return _R(i,[oR(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Xi.exists(!1))]).then((()=>a))}function yR(r,...t){r=En(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Ov(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Ov(t[a])){const p=t[a];t[a]=p.next?.bind(p),t[a+1]=p.error?.bind(p),t[a+2]=p.complete?.bind(p)}let c,d,y;if(r instanceof Le)d=_l(r.firestore,Qc),y=_m(r._key.path),c={next:p=>{t[a]&&t[a](vR(d,r,p))},error:t[a+1],complete:t[a+2]};else{const p=_l(r,mh);d=_l(p.firestore,Qc),y=p._query;const A=new PE(d);c={next:S=>{t[a]&&t[a](new qa(d,A,p,S))},error:t[a+1],complete:t[a+2]},dR(r._query)}const v=OE(d);return X2(v,y,l,c)}function _R(r,t){const i=OE(r);return J2(i,t)}function vR(r,t,i){const a=i.docs.get(t._key),l=new PE(r);return new Vr(r,l,t._key,a,new pl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){KS(Wa),Qa(new Ur("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Qc(new JS(a.getProvider("auth-internal")),new WS(d,a.getProvider("app-check-internal")),pb(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Hs(Nv,Dv,t),Hs(Nv,Dv,"esm2020")})();function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ER=BE,qE=new xl("auth","Firebase",BE());const Yc=new om("@firebase/auth");function TR(r,...t){Yc.logLevel<=Nt.WARN&&Yc.warn(`Auth (${Wa}): ${r}`,...t)}function Nc(r,...t){Yc.logLevel<=Nt.ERROR&&Yc.error(`Auth (${Wa}): ${r}`,...t)}function Wi(r,...t){throw zm(r,...t)}function bi(r,...t){return zm(r,...t)}function HE(r,t,i){const a={...ER(),[t]:i};return new xl("auth","Firebase",a).create(t,{appName:r.name})}function Qs(r){return HE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return qE.create(r,...t)}function gt(r,t,...i){if(!r)throw zm(t,...i)}function Ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Nc(t),new Error(t)}function ts(r,t){r||Ki(t)}function im(){return typeof self<"u"&&self.location?.href||""}function AR(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}function SR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||RA()||"connection"in navigator)?navigator.onLine:!0}function bR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=SA()||CA()}get(){return SR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(r,t){ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class GE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CR=new Pl(3e4,6e4);function gh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function so(r,t,i,a,l={}){return FE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Ml({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:v,...c};return wA()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&$a(r.emulatorConfig.host)&&(p.credentials="include"),GE.fetch()(await KE(r,r.config.apiHost,i,y),p)})}async function FE(r,t,i){r._canInitEmulator=!1;const a={...wR,...t};try{const l=new IR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ac(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[v,p]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ac(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ac(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ac(r,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw HE(r,A,p);Wi(r,A)}}catch(l){if(l instanceof es)throw l;Wi(r,"network-request-failed",{message:String(l)})}}async function QE(r,t,i,a,l={}){const c=await so(r,t,i,a,l);return"mfaPendingCredential"in c&&Wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function KE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Pm(r.config,l):`${r.config.apiScheme}://${l}`;return RR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class IR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),CR.get())})}}function Ac(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(r,t,a);return l.customData._tokenResponse=i,l}async function NR(r,t){return so(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return so(r,"POST","/v1/accounts:lookup",t)}function Sl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DR(r,t=!1){const i=En(r),a=await i.getIdToken(t),l=jm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Vd(l.auth_time)),issuedAtTime:Sl(Vd(l.iat)),expirationTime:Sl(Vd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(r){return Number(r)*1e3}function jm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const l=t0(i);return l?JSON.parse(l):(Nc("Failed to decode base64 JWT payload"),null)}catch(l){return Nc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Mv(r){const t=jm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof es&&OR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const t=r.auth,i=await r.getIdToken(),a=await Ol(r,Xc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?YE(l.providerUserInfo):[],d=VR(r.providerData,c),y=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,p=y?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(r,A)}async function MR(r){const t=En(r);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function YE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kR(r,t){const i=await FE(r,{},async()=>{const a=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await KE(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return r.emulatorConfig&&$a(r.emulatorConfig.host)&&(v.credentials="include"),GE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UR(r,t){return so(r,"POST","/v2/accounts:revokeToken",gh(r,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=Mv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kR(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function ks(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new xR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DR(this,t)}reload(){return MR(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await Ol(this,NR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,v=i._redirectEventId??void 0,p=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:$,stsTokenManager:W}=i;gt(S&&W,t,"internal-error");const nt=Ha.fromJSON(this.name,W);gt(typeof S=="string",t,"internal-error"),ks(a,t.name),ks(l,t.name),gt(typeof M=="boolean",t,"internal-error"),gt(typeof H=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(y,t.name),ks(v,t.name),ks(p,t.name),ks(A,t.name);const ht=new Jn({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:nt,createdAt:p,lastLoginAt:A});return $&&Array.isArray($)&&(ht.providerData=$.map(Et=>({...Et}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?YE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new Ha;y.updateFromIdToken(a);const v=new Jn({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,p),v}}const Vv=new Map;function Yi(r){ts(r instanceof Function,"Expected a class definition");let t=Vv.get(r);return t?(ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Vv.set(r,t),t)}class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}XE.type="NONE";const kv=XE;function Dc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Yi(kv),t,a);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=l[0]||Yi(kv);const d=Dc(a,t.config.apiKey,t.name);let y=null;for(const p of i)try{const A=await p._get(d);if(A){let S;if(typeof A=="string"){const M=await Xc(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Jn._fromGetAccountInfoResponse(t,M,A)}else S=Jn._fromJSON(t,A);p!==c&&(y=S),c=p;break}}catch{}const v=l.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ga(c,t,a):(c=v[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new Ga(c,t,a))}}function Uv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eT(t))return"Blackberry";if(nT(t))return"Webos";if(ZE(t))return"Safari";if((t.includes("chrome/")||$E(t))&&!t.includes("edge/"))return"Chrome";if(tT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function JE(r=Ze()){return/firefox\//i.test(r)}function ZE(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $E(r=Ze()){return/crios\//i.test(r)}function WE(r=Ze()){return/iemobile/i.test(r)}function tT(r=Ze()){return/android/i.test(r)}function eT(r=Ze()){return/blackberry/i.test(r)}function nT(r=Ze()){return/webos/i.test(r)}function Bm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LR(r=Ze()){return Bm(r)&&!!window.navigator?.standalone}function zR(){return IA()&&document.documentMode===10}function iT(r=Ze()){return Bm(r)||tT(r)||nT(r)||eT(r)||/windows phone/i.test(r)||WE(r)}function sT(r,t=[]){let i;switch(r){case"Browser":i=Uv(Ze());break;case"Worker":i=`${Uv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wa}/${a}`}class PR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const v=t(c);d(v)}catch(v){y(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jR(r,t={}){return so(r,"GET","/v2/passwordPolicy",gh(r,t))}const BR=6;class qR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class HR{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new PR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Qs(this));const i=t?En(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jR(this),i=new qR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await UR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=sT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ph(r){return En(r)}class Lv{constructor(t){this.auth=t,this.observer=null,this.addObserver=UA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GR(r){qm=r}function FR(r){return qm.loadJS(r)}function QR(){return qm.gapiScript}function KR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function YR(r,t){const i=um(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(kr(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function XR(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function JR(r,t,i){const a=ph(r);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=rT(t),{host:d,port:y}=ZR(t),v=y===null?"":`:${y}`,p={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(kr(p,a.config.emulator)&&kr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,$a(d)?(s0(`${c}//${d}${v}`),r0("Auth",!0)):$R()}function rT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ZR(r){const t=rT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:zv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:zv(d)}}}function zv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $R(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class aT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function Fa(r,t){return QE(r,"POST","/v1/accounts:signInWithIdp",gh(r,t))}const WR="http://localhost";class jr extends aT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}class oT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jl extends oT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends jl{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ls extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return jr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ls.credential(i,a)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class zs extends jl{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class Ps extends jl{constructor(){super("twitter.com")}static credential(t,i){return jr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";async function tC(r,t){return QE(r,"POST","/v1/accounts:signUp",gh(r,t))}class Ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=Pv(a);return new Ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Pv(a);return new Ws({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Pv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function eC(r){if(Yn(r.app))return Promise.reject(Qs(r));const t=ph(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await tC(t,{returnSecureToken:!0}),a=await Ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Zc extends es{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Zc(t,i,a,l)}}function lT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function nC(r,t,i=!1){const a=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ws._forOperation(r,"link",a)}async function iC(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(Qs(a));const l="reauthenticate";try{const c=await Ol(r,lT(a,l,t,r),i);gt(c.idToken,a,"internal-error");const d=jm(c.idToken);gt(d,a,"internal-error");const{sub:y}=d;return gt(r.uid===y,a,"user-mismatch"),Ws._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function sC(r,t,i=!1){if(Yn(r.app))return Promise.reject(Qs(r));const a="signIn",l=await lT(r,a,t),c=await Ws._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function rC(r,t,i,a){return En(r).onIdTokenChanged(t,i,a)}function aC(r,t,i){return En(r).beforeAuthStateChanged(t,i)}function oC(r,t,i,a){return En(r).onAuthStateChanged(t,i,a)}const $c="__sak";class uT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lC=1e3,uC=10;class cT extends uT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,uC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}cT.type="LOCAL";const cC=cT;class hT extends uT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}hT.type="SESSION";const fT=hT;function hC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new yh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async p=>p(i.origin,c)),v=await hC(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Hm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class fC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,v)=>{const p=Hm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===p)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function dC(r){wi().location.href=r}function dT(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function mC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gC(){return navigator?.serviceWorker?.controller||null}function pC(){return dT()?self:null}const mT="firebaseLocalStorageDb",yC=1,Wc="firebaseLocalStorage",gT="fbase_key";class Bl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function _C(){const r=indexedDB.deleteDatabase(mT);return new Bl(r).toPromise()}function rm(){const r=indexedDB.open(mT,yC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:gT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await _C(),t(await rm()))})})}async function jv(r,t,i){const a=_h(r,!0).put({[gT]:t,value:i});return new Bl(a).toPromise()}async function vC(r,t){const i=_h(r,!1).get(t),a=await new Bl(i).toPromise();return a===void 0?null:a.value}function Bv(r,t){const i=_h(r,!0).delete(t);return new Bl(i).toPromise()}const EC=800,TC=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>TC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(pC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new fC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||gC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await jv(t,$c,"1"),await Bv(t,$c),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>jv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>vC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Bl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const AC=pT;new Pl(3e4,6e4);function SC(r,t){return t?Yi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Gm extends aT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function bC(r){return sC(r.auth,new Gm(r),r.bypassAuthState)}function wC(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),iC(i,new Gm(r),r.bypassAuthState)}async function RC(r){const{auth:t,user:i}=r;return gt(i,t,"internal-error"),nC(i,new Gm(r),r.bypassAuthState)}class yT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bC;case"linkViaPopup":case"linkViaRedirect":return RC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CC=new Pl(2e3,1e4);class Pa extends yT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CC.get())};t()}}Pa.currentPopupAction=null;const IC="pendingRedirect",Oc=new Map;class NC extends yT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await DC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(r,t){const i=MC(t),a=xC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function OC(r,t){Oc.set(r._key(),t)}function xC(r){return Yi(r._redirectPersistence)}function MC(r){return Dc(IC,r.config.apiKey,r.name)}async function VC(r,t,i=!1){if(Yn(r.app))return Promise.reject(Qs(r));const a=ph(r),l=SC(a,t),d=await new NC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const kC=600*1e3;class UC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!_T(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(t))}saveEventToCache(t){this.cachedEventUids.add(qv(t)),this.lastProcessedEventTime=Date.now()}}function qv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function _T({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function LC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(r);default:return!1}}async function zC(r,t={}){return so(r,"GET","/v1/projects",t)}const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function BC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await zC(r);for(const i of t)try{if(qC(i))return}catch{}Wi(r,"unauthorized-domain")}function qC(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!jC.test(i))return!1;if(PC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const HC=new Pl(3e4,6e4);function Hv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function GC(r){return new Promise((t,i)=>{function a(){Hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hv(),i(bi(r,"network-request-failed"))},timeout:HC.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=KR("iframefcb");return wi()[l]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},FR(`${QR()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function FC(r){return xc=xc||GC(r),xc}const QC=new Pl(5e3,15e3),KC="__/auth/iframe",YC="emulator/auth/iframe",XC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZC(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Pm(t,YC):`https://${r.config.authDomain}/${KC}`,a={apiKey:t.apiKey,appName:r.name,v:Wa},l=JC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ml(a).slice(1)}`}async function $C(r){const t=await FC(r),i=wi().gapi;return gt(i,r,"internal-error"),t.open({where:document.body,url:ZC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),y=wi().setTimeout(()=>{c(d)},QC.get());function v(){wi().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const WC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tI=500,eI=600,nI="_blank",iI="http://localhost";class Gv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sI(r,t,i,a=tI,l=eI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...WC,width:a.toString(),height:l.toString(),top:c,left:d},p=Ze().toLowerCase();i&&(y=$E(p)?nI:i),JE(p)&&(t=t||iI,v.scrollbars="yes");const A=Object.entries(v).reduce((M,[H,$])=>`${M}${H}=${$},`,"");if(LR(p)&&y!=="_self")return rI(t||"",y),new Gv(null);const S=window.open(t||"",y,A);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new Gv(S)}function rI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const aI="__/auth/handler",oI="emulator/auth/handler",lI=encodeURIComponent("fac");async function Fv(r,t,i,a,l,c){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Wa,eventId:l};if(t instanceof oT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",kA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof jl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await r._getAppCheckToken(),p=v?`#${lI}=${encodeURIComponent(v)}`:"";return`${uI(r)}?${Ml(y).slice(1)}${p}`}function uI({config:r}){return r.emulator?Pm(r,oI):`https://${r.authDomain}/${aI}`}const kd="webStorageSupport";class cI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fT,this._completeRedirectFn=VC,this._overrideRedirectResult=OC}async _openPopup(t,i,a,l){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Fv(t,i,a,im(),l);return sI(t,c,Hm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Fv(t,i,a,im(),l);return dC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await $C(t),a=new UC(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=BC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iT()||ZE()||Bm()}}const hI=cI;var Qv="@firebase/auth",Kv="1.12.0";class fI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mI(r){Qa(new Ur("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sT(r)},p=new HR(a,l,c,v);return XR(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ur("auth-internal",t=>{const i=ph(t.getProvider("auth").getImmediate());return(a=>new fI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(Qv,Kv,dI(r)),Hs(Qv,Kv,"esm2020")}const gI=300,pI=i0("authIdTokenMaxAge")||gI;let Yv=null;const yI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>pI)return;const l=i?.token;Yv!==l&&(Yv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function _I(r=u0()){const t=um(r,"auth");if(t.isInitialized())return t.getImmediate();const i=YR(r,{popupRedirectResolver:hI,persistence:[AC,cC,fT]}),a=i0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=yI(c.toString());aC(i,d,()=>d(i.currentUser)),rC(i,y=>d(y))}}const l=e0("auth");return l&&JR(i,`http://${l}`),i}function vI(){return document.getElementsByTagName("head")?.[0]??document}GR({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",vI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mI("Browser");var EI="firebase",TI="12.9.0";Hs(EI,TI,"app");const AI={apiKey:"AIzaSyBr3e3IyyCE_cAPCWg5gKfCveKyEd5e87c",authDomain:"infouniforme.firebaseapp.com",projectId:"infouniforme",storageBucket:"infouniforme.firebasestorage.app",messagingSenderId:"754629371387",appId:"1:754629371387:web:b9c7f60120d92c8396d75e"},vT=l0(AI),Xv=eR(vT),Jv=_I(vT);const ET=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const SI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const bI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const Zv=r=>{const t=bI(r);return t.charAt(0).toUpperCase()+t.slice(1)};var wI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const RI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const CI=oe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},v)=>oe.createElement("svg",{ref:v,...wI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:ET("lucide",l),...!c&&!RI(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,A])=>oe.createElement(p,A)),...Array.isArray(c)?c:[c]]));const en=(r,t)=>{const i=oe.forwardRef(({className:a,...l},c)=>oe.createElement(CI,{ref:c,iconNode:t,className:ET(`lucide-${SI(Zv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=Zv(r),i};const II=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NI=en("check",II);const DI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],OI=en("chevron-down",DI);const xI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MI=en("chevron-up",xI);const VI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kI=en("circle-check",VI);const UI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],LI=en("cpu",UI);const zI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],TT=en("database",zI);const PI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jI=en("external-link",PI);const BI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],qI=en("file-spreadsheet",BI);const HI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],GI=en("info",HI);const FI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QI=en("layout-dashboard",FI);const KI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fm=en("loader-circle",KI);const YI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AT=en("lock",YI);const XI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JI=en("phone",XI);const ZI=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],$I=en("terminal",ZI);const WI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tN=en("user",WI),eN=()=>j.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:j.jsxs("div",{className:"flex flex-col items-center gap-6",children:[j.jsxs("div",{className:"relative",children:[j.jsx(Fm,{className:"w-12 h-12 text-yellow-400 animate-spin",strokeWidth:3}),j.jsx("div",{className:"absolute inset-0 w-12 h-12 bg-yellow-400/20 blur-xl rounded-full animate-pulse"})]}),j.jsxs("div",{className:"flex flex-col items-center gap-1",children:[j.jsx("p",{className:"text-yellow-400 font-mono text-sm font-black tracking-[0.3em] animate-pulse uppercase",children:"BOOTING_SYSTEM..."}),j.jsx("div",{className:"w-32 h-1 bg-yellow-400/20 mt-2 overflow-hidden",children:j.jsx("div",{className:"w-1/2 h-full bg-yellow-400 animate-[loading_1.5s_infinite_ease-in-out]"})})]})]})}),nN=({view:r,setView:t})=>j.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-6 no-print",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 font-mono text-xs tracking-tighter uppercase font-bold",children:[j.jsx($I,{size:14,strokeWidth:3}),j.jsx("span",{children:"SGE // Sistema de Gesto de Encomendas"})]}),j.jsxs("h1",{className:"text-4xl font-black tracking-tight text-white italic uppercase",children:["UNIFORME ",j.jsx("span",{className:"text-yellow-400 underline decoration-4 underline-offset-8",children:"INFO"})]})]}),j.jsxs("div",{className:"flex bg-black border-2 border-yellow-400 p-1 rounded-none shadow-[4px_4px_0px_0px_rgba(250,204,21,1)]",children:[j.jsxs("button",{onClick:()=>t("form"),className:`flex items-center gap-2 px-6 py-2.5 rounded-none transition-all text-sm font-black uppercase ${r==="form"?"bg-yellow-400 text-black":"text-yellow-400 hover:bg-yellow-400/10"}`,children:[j.jsx(QI,{size:18,strokeWidth:3})," Formulrio"]}),j.jsxs("button",{onClick:()=>t("admin"),className:`flex items-center gap-2 px-6 py-2.5 rounded-none transition-all text-sm font-black uppercase ${r==="admin"?"bg-yellow-400 text-black":"text-yellow-400 hover:bg-yellow-400/10"}`,children:[j.jsx(TT,{size:18,strokeWidth:3})," Planilha"]})]})]}),iN=({selectedModels:r=[],onToggle:t})=>{const i=[{id:"m1",label:"guia Black",img:"https://github.com/Davim187/InfoUniformes/blob/41c2c00911ae40381addd303793411835b2dd32e/src/assets/WhatsApp%20Image%202026-02-06%20at%2021.40.05%20(1).jpeg?raw=true"},{id:"m4",label:"guia White",img:"https://github.com/Davim187/InfoUniformes/blob/41c2c00911ae40381addd303793411835b2dd32e/src/assets/WhatsApp%20Image%202026-02-06%20at%2021.40.05%20(2).jpeg?raw=true"},{id:"m2",label:"Infor Graffiti White",img:"https://github.com/Davim187/InfoUniformes/blob/41c2c00911ae40381addd303793411835b2dd32e/src/assets/WhatsApp%20Image%202026-02-06%20at%2021.40.05.jpeg?raw=true"},{id:"m5",label:"Infor Graffiti Black",img:"https://github.com/Davim187/InfoUniformes/blob/41c2c00911ae40381addd303793411835b2dd32e/src/assets/WhatsApp%20Image%202026-02-06%20at%2021.40.04%20(1).jpeg?raw=true"}],a=l=>{const c=Array.isArray(r)?r:[];c.includes(l)?t(c.filter(d=>d!==l)):t([...c,l])};return j.jsxs("div",{className:"space-y-4",children:[j.jsxs("div",{className:"flex justify-between items-end",children:[j.jsx("label",{className:"text-[10px] font-black text-yellow-400 uppercase tracking-widest ml-1",children:"Selecione o(s) Modelo(s)"}),j.jsx("span",{className:"text-[9px] font-mono text-zinc-500 uppercase tracking-tighter",children:"Mltipla Escolha Ativa"})]}),j.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:i.map(l=>{const c=Array.isArray(r)&&r.includes(l.label);return j.jsxs("button",{type:"button",onClick:()=>a(l.label),className:`border-2 p-3 transition-all relative group flex flex-col items-center gap-2 ${c?"border-yellow-400 bg-yellow-400/10":"border-zinc-800 bg-black hover:border-zinc-600"}`,children:[j.jsx("div",{className:"aspect-square w-full bg-zinc-900 overflow-hidden flex items-center justify-center border border-zinc-800",children:j.jsx("div",{className:`transition-all duration-500 ${c?"scale-110":"scale-100"}`,children:j.jsx("img",{src:l.img,alt:""})})}),j.jsxs("div",{className:"w-full text-center space-y-1",children:[j.jsx("div",{className:`text-[10px] font-black uppercase tracking-tight ${c?"text-yellow-400":"text-zinc-500"}`,children:l.label}),j.jsx("div",{className:"text-[8px] font-mono text-zinc-600 uppercase leading-none",children:l.desc})]}),c&&j.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-black p-0.5 rounded-none animate-in zoom-in duration-200",children:j.jsx(NI,{size:12,strokeWidth:4})})]},l.id)})})]})},ST=[{tam:"PP",alt:64,larg:45},{tam:"P",alt:70,larg:49},{tam:"M",alt:71,larg:51},{tam:"G",alt:74,larg:57},{tam:"GG",alt:77,larg:58},{tam:"XG",alt:80,larg:62},{tam:"XGG",alt:85,larg:76},{tam:"EXG",alt:88,larg:79}],sN=()=>j.jsxs("div",{className:"bg-black border-2 border-zinc-800 overflow-hidden mb-6",children:[j.jsxs("div",{className:"bg-yellow-400 p-2 text-black text-[10px] font-black uppercase flex items-center gap-2",children:[j.jsx(GI,{size:14})," Guia de Tamanhos (cm)"]}),j.jsxs("table",{className:"w-full text-[10px] font-mono",children:[j.jsx("thead",{children:j.jsxs("tr",{className:"border-b border-zinc-800 text-zinc-500",children:[j.jsx("th",{className:"p-2 text-left",children:"TAMANHO"}),j.jsx("th",{className:"p-2 text-center",children:"(A) ALTURA"}),j.jsx("th",{className:"p-2 text-center",children:"(B) LARGURA"})]})}),j.jsx("tbody",{className:"text-zinc-300",children:ST.map(r=>j.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-white/5",children:[j.jsx("td",{className:"p-2 font-bold text-yellow-400",children:r.tam}),j.jsx("td",{className:"p-2 text-center",children:r.alt}),j.jsx("td",{className:"p-2 text-center",children:r.larg})]},r.tam))})]})]}),rN=({formData:r,setFormData:t,onSubmit:i,submitting:a,success:l,totalOrders:c})=>{const[d,y]=oe.useState(!1),v=p=>{let A=p.target.value.replace(/\D/g,"");A.length>11&&(A=A.slice(0,11));let S="";A.length>0&&(S="("+A.slice(0,2),A.length>2&&(S+=") "+A.slice(2,7),A.length>7&&(S+="-"+A.slice(7)))),t({...r,telefone:S})};return j.jsxs("div",{className:"grid lg:grid-cols-5 gap-12 items-start",children:[j.jsxs("div",{className:"lg:col-span-2 space-y-6 no-print",children:[j.jsxs("div",{className:"bg-zinc-900 border-l-4 border-yellow-400 p-8",children:[j.jsx(LI,{className:"text-yellow-400 mb-6",size:40}),j.jsx("h3",{className:"text-xl font-black mb-4 text-white uppercase",children:"Informaes"}),j.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Selecione o modelo desejado e confira as medidas na tabela antes de confirmar o pedido."}),j.jsxs("button",{type:"button",onClick:()=>y(!d),className:"w-full flex items-center justify-between p-3 bg-black border border-zinc-800 text-yellow-400 text-xs font-bold uppercase hover:border-yellow-400 transition-all",children:["Ver Tabela de Medidas ",d?j.jsx(MI,{size:16}):j.jsx(OI,{size:16})]}),d&&j.jsx("div",{className:"mt-4 animate-in slide-in-from-top-2 duration-300",children:j.jsx(sN,{})})]}),j.jsxs("div",{className:"p-4 bg-black border border-zinc-800 flex items-center justify-between text-yellow-400/40 text-[10px] font-mono uppercase",children:[j.jsx("span",{children:"Logs: connection_active"}),j.jsxs("span",{children:["Registos: ",c]})]})]}),j.jsxs("form",{onSubmit:i,className:"lg:col-span-3 bg-zinc-900 border-2 border-zinc-800 p-8 space-y-8 shadow-2xl",children:[j.jsxs("div",{className:"space-y-6",children:[j.jsx(iN,{selectedModels:r.modelos,onToggle:p=>t({...r,modelos:p})}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-[10px] font-black text-yellow-400 uppercase tracking-widest ml-1",children:"Nome Completo"}),j.jsxs("div",{className:"relative",children:[j.jsx(tN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600",size:20}),j.jsx("input",{required:!0,type:"text",value:r.nome,onChange:p=>t({...r,nome:p.target.value}),className:"w-full bg-black border-2 border-zinc-800 py-4 pl-12 pr-4 focus:border-yellow-400 outline-none text-white font-bold transition-all",placeholder:"Ex: Alan Turing"})]})]}),j.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-[10px] font-black text-yellow-400 uppercase tracking-widest ml-1",children:"Telemvel"}),j.jsxs("div",{className:"relative",children:[j.jsx(JI,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-600",size:20}),j.jsx("input",{required:!0,type:"tel",value:r.telefone,onChange:v,className:"w-full bg-black border-2 border-zinc-800 py-4 pl-12 pr-4 focus:border-yellow-400 outline-none text-white font-mono",placeholder:"(00) 00000-0000"})]})]}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("label",{className:"text-[10px] font-black text-yellow-400 uppercase tracking-widest ml-1 text-center block",children:"Tamanho"}),j.jsx("select",{value:r.tamanho,onChange:p=>t({...r,tamanho:p.target.value}),className:"w-full bg-black border-2 border-zinc-800 py-4 px-4 focus:border-yellow-400 outline-none text-white font-black",children:ST.map(p=>j.jsx("option",{value:p.tam,children:p.tam},p.tam))})]})]})]}),j.jsx("button",{disabled:a,className:"w-full bg-yellow-400 hover:bg-yellow-300 disabled:opacity-50 text-black font-black py-5 shadow-[6px_6px_0px_0px_rgba(255,255,255,1)] transition-all flex items-center justify-center gap-3 active:translate-y-1 active:shadow-none",children:a?j.jsx(Fm,{className:"animate-spin"}):j.jsxs(j.Fragment,{children:["SUBMETER REGISTO ",j.jsx(jI,{size:18})]})}),l&&j.jsxs("div",{className:"flex items-center justify-center gap-3 text-black font-black bg-yellow-400 p-4 animate-in zoom-in duration-300 text-xs uppercase",children:[j.jsx(kI,{size:20})," Dados Sincronizados"]})]})]})},aN=({orders:r,activeTab:t,setActiveTab:i,userId:a,onLogout:l})=>{const[c,d]=oe.useState(!1);oe.useEffect(()=>{if(window.XLSX){d(!0);return}const p=document.createElement("script");p.src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js",p.async=!0,p.onload=()=>d(!0),document.head.appendChild(p)},[]);const y=oe.useMemo(()=>r.filter(p=>p.tamanho===t),[r,t]),v=()=>{if(!window.XLSX)return;const p=window.XLSX,A=p.utils.book_new();["PP","P","M","G","GG","XG","XGG","EXG"].forEach(S=>{const M=r.filter(H=>H.tamanho===S).map((H,$)=>{let W="S/ Data";try{H.createdAt?.toDate?W=H.createdAt.toDate().toLocaleDateString("pt-BR"):H.createdAt&&(W=new Date(H.createdAt).toLocaleDateString("pt-BR"))}catch{}return{N:$+1,"Modelos Selecionados":Array.isArray(H.modelos)?H.modelos.join(", "):H.modelo||"N/A","Nome do Aluno":H.nome,Telemvel:H.telefone,Data:W,Tamanho:H.tamanho}});if(M.length>0){const H=p.utils.json_to_sheet(M);H["!cols"]=[{wch:5},{wch:35},{wch:40},{wch:15},{wch:20},{wch:10}],p.utils.book_append_sheet(A,H,`Tam ${S}`)}}),p.writeFile(A,`Lista_Uniformes_TI_Final_${new Date().getFullYear()}.xlsx`)};return j.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[j.jsxs("div",{className:"bg-zinc-900 border-2 border-zinc-800 overflow-hidden shadow-2xl",children:[j.jsx("div",{className:"flex bg-black border-b-2 border-zinc-800 p-1 overflow-x-auto no-print scrollbar-hide",children:["PP","P","M","G","GG","XG","XGG","EXG"].map(p=>j.jsxs("button",{onClick:()=>i(p),className:`flex-none px-6 py-4 text-[10px] font-black transition-all border-b-4 ${t===p?"border-yellow-400 text-yellow-400 bg-zinc-900":"border-transparent text-zinc-600 hover:text-zinc-400"}`,children:["TABELA_",p]},p))}),j.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:j.jsxs("table",{className:"w-full text-left border-collapse",children:[j.jsx("thead",{className:"sticky top-0 z-20 bg-black",children:j.jsxs("tr",{className:"border-b-2 border-zinc-800",children:[j.jsx("th",{className:"p-5 text-[10px] font-black text-yellow-400 uppercase tracking-widest",children:"Index"}),j.jsx("th",{className:"p-5 text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:"Modelos"}),j.jsx("th",{className:"p-5 text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:"Estudante"}),j.jsx("th",{className:"p-5 text-[10px] font-black text-zinc-500 uppercase tracking-widest text-right",children:"Data"})]})}),j.jsx("tbody",{className:"divide-y divide-zinc-800",children:y.length>0?y.map((p,A)=>j.jsxs("tr",{className:"group hover:bg-yellow-400/5 transition-colors",children:[j.jsxs("td",{className:"p-5 font-mono text-[10px] text-zinc-600",children:["[",String(A+1).padStart(3,"0"),"]"]}),j.jsx("td",{className:"p-5",children:j.jsx("div",{className:"flex flex-wrap gap-1",children:(Array.isArray(p.modelos)?p.modelos:[p.modelo]).map((S,M)=>j.jsx("span",{className:"text-[8px] bg-yellow-400/10 text-yellow-400 px-1.5 py-0.5 font-bold uppercase border border-yellow-400/20",children:S},M))})}),j.jsx("td",{className:"p-5 font-bold text-white uppercase text-xs tracking-tight",children:p.nome}),j.jsx("td",{className:"p-5 text-right font-mono text-[10px] text-zinc-500",children:p.createdAt?.toDate?p.createdAt.toDate().toLocaleDateString("pt-BR"):new Date(p.createdAt).toLocaleDateString("pt-BR")})]},p.id)):j.jsx("tr",{children:j.jsxs("td",{colSpan:"4",className:"p-20 text-center opacity-20",children:[j.jsx(TT,{className:"mx-auto mb-4",size:48}),j.jsx("p",{className:"font-mono text-[10px] uppercase tracking-widest text-white italic",children:"Nenhum registo nesta partio"})]})})})]})}),j.jsxs("div",{className:"bg-black p-5 border-t-2 border-zinc-800 flex justify-between items-center text-[10px] font-mono text-zinc-500 uppercase",children:[j.jsxs("div",{className:"flex gap-6",children:[j.jsxs("span",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 animate-pulse"})," DATA_FLOW: OK"]}),j.jsxs("span",{children:["COUNT: ",y.length]})]}),j.jsxs("button",{onClick:l,className:"hover:text-yellow-400 transition-colors flex items-center gap-1 no-print font-black",children:[j.jsx(AT,{size:10})," LOCK_SYSTEM"]})]})]}),j.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-4 no-print",children:j.jsx("button",{onClick:v,disabled:!c,className:"text-[10px] font-black text-black bg-yellow-400 hover:bg-yellow-300 disabled:opacity-50 transition-all flex items-center justify-center gap-2 px-8 py-4 uppercase tracking-widest shadow-[4px_4px_0px_0px_rgba(255,255,255,1)]",children:c?j.jsxs(j.Fragment,{children:[j.jsx(qI,{size:18})," Gerar Excel Completo"]}):j.jsxs(j.Fragment,{children:[j.jsx(Fm,{size:16,className:"animate-spin"})," Aguardando SheetJS..."]})})})]})},oN="BibiMaravilhosa",lN=({onLoginSuccess:r})=>{const[t,i]=oe.useState(""),[a,l]=oe.useState(!1),c=d=>{d.preventDefault(),t===oN?r():(l(!0),i(""),setTimeout(()=>l(!1),2e3))};return j.jsx("div",{className:"max-w-md mx-auto mt-10 animate-in fade-in zoom-in duration-300",children:j.jsxs("div",{className:"bg-zinc-900 border-2 border-yellow-400 p-8 rounded-none shadow-[8px_8px_0px_0px_rgba(250,204,21,1)]",children:[j.jsx("div",{className:"flex justify-center mb-6 text-yellow-400",children:j.jsx(AT,{size:32,className:a?"text-red-500 animate-bounce":""})}),j.jsx("h2",{className:"text-center text-xl font-black mb-8 text-white uppercase tracking-tighter",children:"Acesso  Base de Dados"}),j.jsxs("form",{onSubmit:c,className:"space-y-4",children:[j.jsx("input",{type:"password",value:t,onChange:d=>i(d.target.value),className:`w-full bg-black border-2 ${a?"border-red-500":"border-zinc-800 focus:border-yellow-400"} py-4 px-6 outline-none text-center font-mono tracking-[0.5em] text-white`,placeholder:""}),j.jsx("button",{className:"w-full bg-yellow-400 hover:bg-yellow-300 text-black font-black py-4 rounded-none transition-all",children:"ENTRAR"})]})]})})};function uN(){const[r,t]=oe.useState(!1),[i,a]=oe.useState(null),[l,c]=oe.useState("form"),[d,y]=oe.useState("P"),[v,p]=oe.useState([]),[A,S]=oe.useState(!0),[M,H]=oe.useState(!1),[$,W]=oe.useState(!1),[nt,ht]=oe.useState({nome:"",telefone:"",tamanho:"PP"});oe.useEffect(()=>{eC(Jv).catch(console.error);const dt=oC(Jv,xt=>{a(xt),S(!1)});return()=>dt()},[]),oe.useEffect(()=>{if(!i)return;const dt=wv(Xv,"uniformes"),xt=yR(dt,ne=>{p(ne.docs.map(Mt=>({id:Mt.id,...Mt.data()})))});return()=>xt()},[i]);const Et=async dt=>{if(dt.preventDefault(),!(!i||M)){H(!0);try{await pR(wv(Xv,"uniformes"),{...nt,createdAt:new Date,userId:i.uid}),W(!0),ht({nome:"",telefone:"",tamanho:"M"}),setTimeout(()=>W(!1),4e3)}catch(xt){console.error("Erro ao salvar:",xt)}finally{H(!1)}}};return A?j.jsx(eN,{}):j.jsxs("div",{className:"min-h-screen bg-black text-white font-sans selection:bg-yellow-400 selection:text-black overflow-x-hidden",children:[j.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10 no-print",children:j.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#333_1px,transparent_1px),linear-gradient(to_bottom,#333_1px,transparent_1px)] bg-[size:3rem_3rem]"})}),j.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-6 py-12",children:[j.jsx(nN,{view:l,setView:c}),j.jsx("main",{children:l==="form"?j.jsx(rN,{formData:nt,setFormData:ht,onSubmit:Et,submitting:M,success:$,totalOrders:v.length}):r?j.jsx(aN,{orders:v,activeTab:d,setActiveTab:y,userId:i?.uid,onLogout:()=>{t(!1),c("form")}}):j.jsx(lN,{onLoginSuccess:()=>t(!0)})}),j.jsx("footer",{className:"mt-20 py-12 border-t-2 border-zinc-900 text-center no-print",children:j.jsx("p",{className:"text-zinc-700 text-[10px] font-mono tracking-[0.4em] uppercase",children:"Developed_by Davi Morais // 2026 // v2.0.0"})})]})]})}uA.createRoot(document.getElementById("root")).render(j.jsx(oe.StrictMode,{children:j.jsx(uN,{})}));
